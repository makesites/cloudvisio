(function(t,n,e){function r(e,u){if(!n[e]){if(!t[e]){var a=typeof require=="function"&&require;if(!u&&a)return a(e,!0);if(i)return i(e,!0);throw new Error("Cannot find module '"+e+"'")}var o=n[e]={exports:{}};t[e][0].call(o.exports,function(n){var i=t[e][1][n];return r(i?i:n)},o,o.exports)}return n[e].exports}var i=typeof require=="function"&&require;for(var u=0;u<e.length;u++)r(e[u]);return r})({1:[function(t,n,e){var r=t("d3");var i=function(t){this.self=t;t.set(this.defaults);t._axisSchema(this.schema)};i.prototype={layout:"force",schema:{label:"string",group:"number",radius:"number"},defaults:{charge:-20,distance:30,ir:0,radius:5},constructor:i,render:function(t){var n=this.self;var e=this;var i=r.select(n.el+" "+n.options.container);var u=1024,a=768;var o=this.nodes=this.data();var s=r.layout.force().charge(n.options.charge).linkDistance(n.options.distance).size([u,a]).nodes(o).links([]).start();this.node=i.selectAll(".node").data(o).enter().append("circle").attr("class","node").attr("r",function(t){return t.radius}).style("fill",function(t){return n.color(t.group)}).call(s.drag);this.node.append("title").text(function(t){return t.name});s.on("tick",function(t){e.update(t)})},data:function(){var t=this.self,n=t.models;var e=t._axis.label,r=t._axis.group,i=t._axis.radius;var u=[];for(var a in n){u.push({name:n[a][e],group:n[a][r],radius:isNaN(i)?n[a][i]:i})}return u},update:function(t){var n=6*t.alpha;this.nodes.forEach(function(t,e){t.x+=t.group+2&2?n:-n;t.y+=t.group+2&1?n:-n});var e=r.geom.quadtree(this.nodes),i=0,u=this.nodes.length;while(++i<u){e.visit(this.collide(this.nodes[i]))}this.node.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})},collide:function(t){var n=t.radius+16,e=t.x-n,r=t.x+n,i=t.y-n,u=t.y+n;return function(n,a,o,s,f){if(n.point&&n.point!==t){var l=t.x-n.point.x,c=t.y-n.point.y,h=Math.sqrt(l*l+c*c),g=t.radius+n.point.radius;if(h<g){h=(h-g)/h*.5;t.x-=l*=h;t.y-=c*=h;n.point.x+=l;n.point.y+=c}}return a>r||s<e||o>u||f<i}}};n.exports=i},{d3:18}],2:[function(t,n,e){var r=t("d3"),i=r.svg.arc();var u=function(t){this.self=t;t.set(this.defaults);t._axisSchema(this.schema)};u.prototype={layout:"pie",schema:{label:"string",value:"number"},defaults:{r:384,ir:0,textOffset:100},constructor:u,render:function(t){var n=1024,e=768,u=this.self,a=this.data();var o=r.select(u.el+" "+u.options.container).data(a).append("svg:g").attr("transform","translate("+n/2+","+e/2+")");var s=r.layout.pie().value(function(t){return t.value}).sort(function(t){return null});var f=o.selectAll("g.slice").data(s).enter().append("svg:g").attr("class","slice");var l=f.append("svg:path").attr("alt",function(t){return t.data.label}).attr("d",i.innerRadius(u.options.ir).outerRadius(u.options.r)).style("fill",function(t,n){return u.color(n)});l.transition().ease("cubic").duration(2e3).attrTween("d",this.tweenPie);var c=f.append("svg:text").style("font-size",function(t){return Math.max(1,t.data.value/100)*15}).attr("fill","white").attr("transform",function(t,n){t.innerRadius=u.options.r/2;t.outerRadius=u.options.r;return"translate("+i.centroid(t)+")"}).attr("text-anchor","middle").text(function(t,n){return t.data.label}).style("opacity",0).transition().ease("cubic").duration(2e3).style("opacity",1)},data:function(){var t=this.self,n=[];var e=t._axis.label,r=t._axis.value;n=t.models.map(function(t,n){return{label:t[e],value:t[r]}});return[n]},tweenPie:function(t){t.innerRadius=0;var n=r.interpolate({startAngle:0,endAngle:0},t);return function(t){return i(n(t))}}};n.exports=u},{d3:18}],3:[function(t,n,e){var r=t("d3");var i=function(t){this.self=t;t.set(this.defaults)};i.prototype={layout:"stack",schema:{x:"number",y:"number"},defaults:{},constructor:i,render:function(t){var n=this.self;var e=1024,i=768;var u=this.data();var a=r.select(n.el+" "+n.options.container).append("svg:g").attr("transform","translate(30,738)");x=r.scale.ordinal().rangeRoundBands([0,e]);y=r.scale.linear().range([0,i]);var o=r.layout.stack()(u.values);x.domain(o[0].map(function(t){return t.x}));y.domain([0,r.max(o[o.length-1],function(t){return t.y0+t.y})]);var s=a.selectAll("g.valgroup").data(o).enter().append("svg:g").attr("class","valgroup").style("fill",function(t,e){return n.color(e)}).style("stroke",function(t,e){return r.rgb(n.color(e)).darker()});var f=s.selectAll("rect").data(function(t){return t}).enter().append("svg:rect").attr("x",function(t){return x(t.x)}).attr("y",function(t){return-y(t.y0)-y(t.y)}).attr("height",function(t){return y(t.y)}).attr("width",x.rangeBand());a.selectAll("text").data(u.labels).enter().append("svg:text").attr("x",function(t){return x(t)+x.rangeBand()/2}).attr("y",6).attr("text-anchor","middle").attr("dy",".71em").text(function(t){return t});var l=a.selectAll("g.rule").data(y.ticks(5)).enter().append("svg:g").attr("class","rule").attr("transform",function(t){return"translate(0,"+-y(t)+")"});l.append("svg:line").attr("x2",e).style("stroke",function(t){return t?"#fff":"#000"}).style("stroke-opacity",function(t){return t?.3:null});l.append("svg:text").attr("x",-20).attr("dy",".35em").text(r.format(",d"))},data:function(){var t=this.self;var n=[],e=[],r;if(t._axis.x){r=t._axis.x;n.push(r)}for(var i in t._axis){var u=t._axis[i];if(!r){r=u;n.push(u);continue}if(i=="x")continue;n.push(u);var a=t.models.map(function(t,n){return{x:typeof t[r]=="number"?t[r]:n,y:t[u],text:t[r]}});e.push(a)}return{labels:n,values:e}}};n.exports=i},{d3:18}],4:[function(t,n,e){var r=t("d3");n.exports={el:"#vis",layout:"stack",container:"svg",width:"100%",height:"100%",colors:r.scale.category20c(),renderErrors:false}},{d3:18}],5:[function(t,n,e){// @name cloudvisio
// @url https://github.com/makesites/cloudvisio
// @author makesites
// @license Apache License, Version 2.0
n.exports=t("./lib/main")},{"./lib/main":11}],6:[function(t,n,e){(function(){var e=t("./utils");var r={_axisSchema:function(t){for(var n in this._axis){if(typeof t[n]=="undefined")delete this._axis[n]}for(var e in t){var r=this.options[e]?this.options[e]:false;if(typeof this._axis[e]=="undefined")this._axis[e]=r}},_findAxis:function(t){var n=this.keys(this.models);if(!n)return false;var r=e.toArray(this._axis);for(var i in n){if(r.indexOf(n[i])>-1)continue;if(t==this._findType(n[i]))return n[i]}return false},_matchAxis:function(t){var n=this.chart();var e=[];var r=[];for(var i in n.schema){if(this._axis[i]){e.push(this._axis[i]);continue}r.push(i)}if(!r.length)return;for(var u in t){if(n.schema.x&&!this._axis.x){this._axis.x=u;continue}if(e.indexOf(u)>-1)continue}}};n.exports=r})()},{"./utils":17}],7:[function(t,n,e){var r=t("../charts/force"),i=t("../charts/pie"),u=t("../charts/stack");var a={chart:function(t){if(!arguments.length)return this._chart;var n;if(typeof t=="string"){n=this.charts[t]||null;if(n===null)return this}else if(typeof t=="function"){n=t;var e=t.prototype.layout||"untitled";if(typeof this.charts[e]=="undefined"){this.charts[this.options.layout]=t;this.options.layout=e}}this._chart=new n(this);return this},charts:{force:r,pie:i,stack:u},_lookupSchema:function(t,n){t=t||false;n=n||false;if(!t)return false;var e=Object.keys(this._axis);if(!e)return false;var r=this.chart().schema;if(n&&e[n]&&r[n]==t){console.log("preferred",n);return n}for(var i in r){if(r[i]==t)return i}return false},_chart:null};n.exports=a},{"../charts/force":1,"../charts/pie":2,"../charts/stack":3}],8:[function(t,n,e){var r={colors:function(t){if(!arguments.length)return this.options.colors;this.options.colors=t;return this},color:function(t){return this.options.colors instanceof Function?this.options.colors(t):this.options.colors[t]}};n.exports=r},{}],9:[function(t,n,e){var r=t("./utils");var i={models:[],data:function(t,n){n=n||{};if(!arguments.length||t===null)return n.raw?this._data:this._filteredData();var e=this._data;if(t instanceof Array){if(n.reset){e=t}else{e=e.concat(t)}}else if(t instanceof Object){n.silent=true;if(n.key){e[n.key]=t}else{e.push(t)}}else{return this}if(n.silent){}else{this.models=[]}this._data=e;return this},add:function(t){t=t instanceof Array?t:[t];this._matchAxis(t[0]);for(var n in t){if(typeof t[n]._id=="undefined"){t[n]._id=r.uniqueID()}}this.models=this.models.concat(t)},_filteredData:function(){var t=[];for(var n in this._data){if(typeof this._data[n].__filter=="undefined"||this._data[n].__filter){t.push(this._data[n])}}return t},parse:function(t){t=t||false;if(!t)return;if(t.length!="undefined"){for(var n in t){this.add(t[n])}}else{this.add(t)}this.ready();return this},keys:function(t){t=t||this.data();var n=[];for(var e in t){var r=Object.keys(t[e]);for(var i in r){if(n.indexOf(r[i])>-1||r[i].search(/__query/gi)>-1)continue;n.push(r[i])}}return n},axis:function(t,n){if(!arguments.length)return this._axis;if(t instanceof Object){for(var e in t){this.axis(e,t[e])}}var i=this.data();for(var u in i){if(typeof this.models[u]=="undefined")this.models[u]={_id:r.uniqueID()};var a=i[u][t]||i[u][this._selectedField]||false;if(typeof n!="undefined"){this.models[u][t]=n}else if(typeof a=="string"||typeof a=="number"){this.models[u][t]=a}else if(typeof a=="boolean"){this.models[u][t]=a===true?1:0}else if(typeof a=="object"){this.models[u][t]=a.value||a.name||a.title||a.id||a}else{this.models[u][t]=null}}if(n){this._axis[t]=n}else if(a===i[u][this._selectedField]){this._axis[t]=this._selectedField}else{this._axis[t]=t}return this},select:function(t){var n=this.keys();this._selectedField=n.indexOf(t)>-1?t:false;return this},amount:function(t){t=t||{};var n=this.data();var e=this.axis();if(e.value!==false)return;var r=this.queries();if(t.reset){this.models=[]}var i=0;for(var u in r){if(r[u].sort=="filter"||r[u].sort=="exclude")continue;var a={};for(var o in n){if(typeof n[o][u]=="boolean"){if(n[o][u]===false)continue;if(typeof a[0]=="undefined")a[0]={label:false,value:0};a[0].value+=1;if(!a[0].label&&t.labels!==false){a[0].label=r[u].query.toString()}i++}else if(typeof n[o][u]=="number"){if(n[o][u]==-1)continue;if(typeof a[n[o][u]]=="undefined")a[n[o][u]]={label:false,value:0};a[n[o][u]].value+=1;if(!a[n[o][u]].label&&t.labels!==false){a[n[o][u]].label=r[u].query[n[o][u]].toString()}i++}else{}}for(var s in a){this.add(a[s])}}if(i<n.length){this.add({label:"other",value:n.length-i})}this._axis.label="label";this._axis.value="value";return this},remove:function(t,n){n=n||{};n.type=n.type||false;var e=false,i=false;if(!n.type){e=r.inArray(t,this._axis);i=Object.keys(this._queries).indexOf(t);if(i>-1)n.type="query";if(e>-1)n.type="axis"}if(!n.type)return this;if(n.type=="query"){var u=this._queries[t];delete this._queries[t];for(var a in this._data){delete this._data[a][t];if(u.sort=="filter"||u.sort=="exclude"||!this._queries.length){delete this._data[a].__filter}}}if(n.type=="axis"){this._axis[t]=false;for(var o in this.models){var s=this.models[o];if(typeof s[t]!="undefined"){delete this.models[o][t]}}}return this},type:function(t,n){if(this.models.length&&this.models[0][t]){return this._findType(t)}else{return this._findType(t,this._data)}},toJSON:function(){var t=this.models||[];for(var n in t){delete t[n]._id}return t},_data:[],_axis:{},_selectedField:false};n.exports=i},{"./utils":17}],10:[function(t,n,e){var r=t("d3");var i={verbalize:function(t){t=t.replace(/\+/gi," and ");t=t.replace(/>/gi," greater than ");t=t.replace(/</gi," less than ");t=t.replace(/  /gi," ")},status:function(t){var n={};var e=this.chart();t=t||false;if(this._data.length===0)n[101]=u[101];if(this.models.length===0)n[102]=u[102];for(var i in this._axis){var a=this._axis[i];if(!a){var o=e.schema[i];switch(o){case"string":n[103]=u[103].replace(/_field_/gi,i);break;case"number":n[104]=u[104].replace(/_field_/gi,i);break}}}if(Object.keys(n).length===0)n[200]=u[200];if(t){var s=r.select(this.el);var f='<div class="error">';f+="<p>There were the following errors:</p>";f+="<ul>";for(var l in n){f+="<li>"+n[l]+"</li>"}f+="</ul>";f+="</div>";s.html(f)}return n}};var u={101:"Missing source data",102:"No axis created",103:"Missing string: _field_",104:"Missing number: _field_",105:"Missing group: _field_",200:"OK"};n.exports=i},{d3:18}],11:[function(t,n,e){var r=t("../config/default"),i=t("./options.js"),u=t("./data"),a=t("./axis"),o=t("./queries"),s=t("./math"),f=t("./regex"),l=t("./language"),c=t("./chart"),h=t("./render"),g=t("./color"),p=t("./utils");Cloudvisio=function(t){t=t||{};this.options={};this.el=t.el||r.el;t.layout=(t.layout||r.layout).toLowerCase();t=p.extend(r,t);this.options=t;this.set(t);return this};Cloudvisio.prototype={constructor:Cloudvisio,description:function(){return"Cloudvisio: Making awesome charts of your data"},options:{}};Cloudvisio.prototype=p.extend(Cloudvisio.prototype,i,u,a,o,s,f,l,c,h,g);n.exports=Cloudvisio},{"../config/default":4,"./axis":6,"./chart":7,"./color":8,"./data":9,"./language":10,"./math":12,"./options.js":13,"./queries":14,"./regex":15,"./render":16,"./utils":17}],12:[function(t,n,e){(function(){var t={process:function(t,n){console.log(t+" : "+n)},eq:function(t,n){n=n||{};n.eq=true;this._filterNumber(t,n);return this},gt:function(t,n){n=n||{};n.gt=true;this._filterNumber(t,n);return this},lt:function(t,n){n=n||{};n.lt=true;this._filterNumber(t,n);return this},_filterNumber:function(t,n){n=n||{};var e=this._selectedField||n.field||false;if(!e)return;if(isNaN(t))return;t=parseFloat(t);var r=this.data(null,{raw:true});var i=null;if(n.eq)i="eq";if(n.lt)i="lt";if(n.gt)i="gt";var u=this.queries({field:e,type:i,query:t},n);for(var a in r){var o={silent:true,filter:n.filter};var s;if(n.eq){s=r[a][e]===t}if(n.lt){s=r[a][e]<t}if(n.gt){s=r[a][e]>t}if(n.exclude&&r[a].__filter!==false){r[a].__filter=!s}else if(n.filter&&r[a].__filter!==false){r[a].__filter=s}r[a][u]=s;o.key=a;this.data(r[a],o)}}};n.exports=t})()},{}],13:[function(t,n,e){var r=t("./utils");var i={set:function(t){if(!(t instanceof Object))return this;r.extend(this.options,t);if(t.layout)this.chart(t.layout);return this},get:function(t){return this.options[t]||false}};n.exports=i},{"./utils":17}],14:[function(t,n,e){var r=t("./utils");var i={queries:function(t,n){if(!arguments.length)return this._queries;t=t||false;n=n||{};n.restore=n.restore||false;if(!t)return this;if(typeof t=="string")return this._queries[t];if(!n.restore&&t instanceof Object){for(var e in t){if(e.search(/__query/gi)>-1){n.restore=true}}}var r=n.restore||t instanceof Array?t:[t];var i=false;for(var u in r){if(n.restore){i=u}i=!i&&r[u].id?r[u].id:this._queryId();if(typeof r[u].sort=="undefined"){if(n.exclude){r[u].sort="exclude"}else if(n.filter){r[u].sort="filter"}else{r[u].sort="group"}}this._queries[i]={field:r[u].field,type:r[u].type,query:r[u].query,sort:r[u].sort}}return t instanceof Array?this:i},refresh:function(){var t=this.queries;for(var n in t){this.queries(t[n])}},_queries:{},_queryId:function(){var t="__query_";var n=Object.keys(this._queries);var e;do{e=r.uid()}while(n.indexOf(t+e)>-1);return t+e}};n.exports=i},{"./utils":17}],15:[function(t,n,e){(function(){var e=t("./utils");var r={match:function(t,n){n=n||{};n.match=true;this._filterString(t,n);return this},search:function(t,n){n=n||{};n.search=true;this._filterString(t,n);return this},find:function(t,n){n=n||{};if(typeof t=="boolean"){this.match(t,n)}else{this.search(t,n)}return this},group:function(){var t,n,r;switch(arguments.length){case 1:if(arguments[0]instanceof Array){n=arguments[0]}else{r=arguments[0]}break;default:n=arguments[0];r=arguments[1];break}r=r||{};t=this._selectedField||r.field||false;var i=this.data();if(n){n=n.join("`").toLowerCase().split("`");r.fixed=true}else{n=this._getValues(t,i)}var u=this.queries({field:t,type:"group",query:n},r);for(var a in i){var o=i[a][t]instanceof Object?e.toArray(i[a][t]).join(","):""+i[a][t]+"";var s={silent:true,key:a};var f=this._find(o,n);i[a][u]=f;this.data(i[a],s)}return this},reverse:function(){this._reverseQuery=true;return this},inQueries:function(t){var n=false;for(var e in this._queries){if(this._queries[e].field==t.field&&this._queries[e].type==t.type&&this._queries[e].query==t.query){n=e}}return n},_reverseQuery:false,_find:function(t,n){n=n.join("|").toLowerCase();t=t.toLowerCase();var e=new RegExp(n,"gi");var r=t.match(e);if(r===null)return-1;r=r.join(",");n=n.split("|");if(n instanceof Array){return n.indexOf(r)}return r},_getValues:function(t,n){var r=[];for(var i in n){var u=n[i][t]instanceof Object?e.toArray(n[i][t]).join(","):""+n[i][t]+"";var a=r.indexOf(u)>-1;if(!a)r.push(u)}return r},_filterString:function(t,n){n=n||{};var e=this._selectedField||n.field||false;if(!e)return;var r=this.data(null,{raw:true});var i;if(n.match)i="match";if(n.search)i="search";var u=this.queries({field:e,type:i,query:t},n);for(var a in r){var o={silent:true,filter:n.filter};var s;if(n.match){s=r[a][e]===t}if(n.search){var f=new RegExp(t,"gi");s=r[a][e].search(f)>-1}if(n.exclude&&r[a].__filter!==false){r[a].__filter=!s}else if(n.filter&&r[a].__filter!==false){r[a].__filter=s}r[a][u]=s;o.key=a;this.data(r[a],o)}}};n.exports=r})()},{"./utils":17}],16:[function(t,n,e){(function(){var e=t("./utils");var r={render:function(t){t=t||false;var n=this.chart();if(n===null)return;var e={append:t};if(!this.ready()){return this.options.renderErrors?this.status("string"):this.status()}if(!t){this._container()}n.render(e);return this.status()},update:function(){},ready:function(t){this._findGroups();this.amount();if(this.models.length===0)return false;var n=true,e,r,i;if(!arguments.length){e=this.chart()}else{r=this.chart();i=this._axis;this.chart(t);e=this.chart()}for(var u in e.schema){var a=this._axis[u]||false;if(!a){var o=e.schema[u];a=this._findAxis(o);if(a){this._axis[u]=a;continue}else{n=false}}}if(arguments.length){this._chart=r;this._axis=i}return n},reset:function(){var t,n;switch(arguments.length){case 1:if(arguments[0]instanceof Array){t=arguments[0]}else{n=arguments[0]}break;default:t=arguments[0];n=arguments[1];break}t=t||false;n=n||false;if(t)this.data(t,{reset:true});if(!n.soft||n.hard){this.options=defaults;this.models=[]}},_container:function(){var t=1024,n=768;var e=d3.select(this.el).html("").append(this.options.container);function r(){e.attr("transform","translate("+d3.event.translate+")"+" scale("+d3.event.scale+")")}e.attr({width:this.options.width,height:this.options.height}).attr("viewBox","0 0 "+t+" "+n).attr("preserveAspectRatio","xMidYMid meet").attr("pointer-events","all").call(d3.behavior.zoom().on("zoom",r));return e},_findType:function(t,n){var e=false;n=n||this.models;for(var r in n){var i=n[r][t];if(!isNaN(parseFloat(i)))i=parseFloat(i);var u=typeof i;if(e&&e!=u)return"mixed";e=u}return e},_findGroups:function(t,n){var e=this.axis();var r=this.queries();if(e.group===false){var i=false;for(var u in r){if(r[u].type=="group"){this.axis(u);this._axis.group=u;i=true;break}}if(!i)this._axis.group="_id"}}};n.exports=r})()},{"./utils":17}],17:[function(t,n,e){(function(){var t={extend:function(){var t=Array.prototype.slice.call(arguments);var n={};for(var e in t){var r=t[e];for(var i in r){if(r[i]&&r[i].constructor&&r[i].constructor===Object){n[i]=n[i]||{};n[i]=arguments.callee(n[i],r[i])}else{n[i]=r[i]}}}return n},toArray:function(t){var n=[];for(var e in t){n.push(t[e])}return n},inArray:function(t,n){for(var e=0;e<n.length;e++){if(n[e]===t){return e}}return-1},uid:function(){var t=0;return function(){if(arguments[0]===0)t=0;return t++}}(),safeString:function(t){return t.replace(/[^a-zA-Z0-9]/g,"")},uniqueID:function(t){var n=t||"-";function e(){return((1+Math.random())*65536|0).toString(16).substring(1)}return e()+e()+n+e()+n+e()+n+e()+n+e()+e()+e()},loadTemplate:function(t){return t},traverse:function(t,n){for(var e in t){n.apply(this,[e,t[e]]);if(typeof t[e]=="object"){traverse(t[e],n)}}}};n.exports=t})()},{}],18:[function(t,n,e){!function(){var t={version:"3.5.5"};var e=[].slice,r=function(t){return e.call(t)};var i=this.document;function u(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i){try{r(i.documentElement.childNodes)[0].nodeType}catch(o){r=function(t){var n=t.length,e=new Array(n);while(n--)e[n]=t[n];return e}}}if(!Date.now)Date.now=function(){return+new Date};if(i){try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(s){var f=this.Element.prototype,l=f.setAttribute,c=f.setAttributeNS,h=this.CSSStyleDeclaration.prototype,g=h.setProperty;f.setAttribute=function(t,n){l.call(this,t,n+"")};f.setAttributeNS=function(t,n,e){c.call(this,t,n,e+"")};h.setProperty=function(t,n,e){g.call(this,t,n+"",e)}}}t.ascending=p;function p(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN};t.min=function(t,n){var e=-1,r=t.length,i,u;if(arguments.length===1){while(++e<r)if((u=t[e])!=null&&u>=u){i=u;break}while(++e<r)if((u=t[e])!=null&&i>u)i=u}else{while(++e<r)if((u=n.call(t,t[e],e))!=null&&u>=u){i=u;break}while(++e<r)if((u=n.call(t,t[e],e))!=null&&i>u)i=u}return i};t.max=function(t,n){var e=-1,r=t.length,i,u;if(arguments.length===1){while(++e<r)if((u=t[e])!=null&&u>=u){i=u;break}while(++e<r)if((u=t[e])!=null&&u>i)i=u}else{while(++e<r)if((u=n.call(t,t[e],e))!=null&&u>=u){i=u;break}while(++e<r)if((u=n.call(t,t[e],e))!=null&&u>i)i=u}return i};t.extent=function(t,n){var e=-1,r=t.length,i,u,a;if(arguments.length===1){while(++e<r)if((u=t[e])!=null&&u>=u){i=a=u;break}while(++e<r)if((u=t[e])!=null){if(i>u)i=u;if(a<u)a=u}}else{while(++e<r)if((u=n.call(t,t[e],e))!=null&&u>=u){i=a=u;break}while(++e<r)if((u=n.call(t,t[e],e))!=null){if(i>u)i=u;if(a<u)a=u}}return[i,a]};function v(t){return t===null?NaN:+t}function d(t){return!isNaN(t)}t.sum=function(t,n){var e=0,r=t.length,i,u=-1;if(arguments.length===1){while(++u<r)if(d(i=+t[u]))e+=i}else{while(++u<r)if(d(i=+n.call(t,t[u],u)))e+=i}return e};t.mean=function(t,n){var e=0,r=t.length,i,u=-1,a=r;if(arguments.length===1){while(++u<r)if(d(i=v(t[u])))e+=i;else--a}else{while(++u<r)if(d(i=v(n.call(t,t[u],u))))e+=i;else--a}if(a)return e/a};t.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],u=e-r;return u?i+u*(t[r]-i):i};t.median=function(n,e){var r=[],i=n.length,u,a=-1;if(arguments.length===1){while(++a<i)if(d(u=v(n[a])))r.push(u)}else{while(++a<i)if(d(u=v(e.call(n,n[a],a))))r.push(u)}if(r.length)return t.quantile(r.sort(p),.5)};t.variance=function(t,n){var e=t.length,r=0,i,u,a=0,o=-1,s=0;if(arguments.length===1){while(++o<e){if(d(i=v(t[o]))){u=i-r;r+=u/++s;a+=u*(i-r)}}}else{while(++o<e){if(d(i=v(n.call(t,t[o],o)))){u=i-r;r+=u/++s;a+=u*(i-r)}}}if(s>1)return a/(s-1)};t.deviation=function(){var n=t.variance.apply(this,arguments);return n?Math.sqrt(n):n};function m(t){return{left:function(n,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=n.length;while(r<i){var u=r+i>>>1;if(t(n[u],e)<0)r=u+1;else i=u}return r},right:function(n,e,r,i){if(arguments.length<3)r=0;if(arguments.length<4)i=n.length;while(r<i){var u=r+i>>>1;if(t(n[u],e)>0)i=u;else r=u+1}return r}}}var y=m(p);t.bisectLeft=y.left;t.bisect=t.bisectRight=y.right;t.bisector=function(t){return m(t.length===1?function(n,e){return p(t(n),e)}:t)};t.shuffle=function(t,n,e){if((r=arguments.length)<3){e=t.length;if(r<2)n=0}var r=e-n,i,u;while(r){u=Math.random()*r--|0;i=t[r+n],t[r+n]=t[u+n],t[u+n]=i}return t};t.permute=function(t,n){var e=n.length,r=new Array(e);while(e--)r[e]=t[n[e]];return r};t.pairs=function(t){var n=0,e=t.length-1,r,i=t[0],u=new Array(e<0?0:e);while(n<e)u[n]=[r=i,i=t[++n]];return u};t.zip=function(){if(!(u=arguments.length))return[];for(var n=-1,e=t.min(arguments,x),r=new Array(e);++n<e;){for(var i=-1,u,a=r[n]=new Array(u);++i<u;){a[i]=arguments[i][n]}}return r};function x(t){return t.length}t.transpose=function(n){return t.zip.apply(t,n)};t.keys=function(t){var n=[];for(var e in t)n.push(e);return n};t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n};t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n};t.merge=function(t){var n=t.length,e,r=-1,i=0,u,a;while(++r<n)i+=t[r].length;u=new Array(i);while(--n>=0){a=t[n];e=a.length;while(--e>=0){u[--i]=a[e]}}return u};var M=Math.abs;t.range=function(t,n,e){if(arguments.length<3){e=1;if(arguments.length<2){n=t;t=0}}if((n-t)/e===Infinity)throw new Error("infinite range");var r=[],i=w(M(e)),u=-1,a;t*=i,n*=i,e*=i;if(e<0)while((a=t+e*++u)>n)r.push(a/i);else while((a=t+e*++u)<n)r.push(a/i);return r};function w(t){var n=1;while(t*n%1)n*=10;return n}function _(t,n){for(var e in n){Object.defineProperty(t.prototype,e,{value:n[e],enumerable:false})}}t.map=function(t,n){var e=new b;if(t instanceof b){t.forEach(function(t,n){e.set(t,n)})}else if(Array.isArray(t)){var r=-1,i=t.length,u;if(arguments.length===1)while(++r<i)e.set(r,t[r]);else while(++r<i)e.set(n.call(t,u=t[r],r),u)}else{for(var a in t)e.set(a,t[a])}return e};function b(){this._=Object.create(null)}var k="__proto__",S="\x00";_(b,{has:A,get:function(t){return this._[N(t)]},set:function(t,n){return this._[N(t)]=n},remove:q,keys:C,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:E(n),value:this._[n]});return t},size:z,empty:L,forEach:function(t){for(var n in this._)t.call(this,E(n),this._[n])}});function N(t){return(t+="")===k||t[0]===S?S+t:t}function E(t){return(t+="")[0]===S?t.slice(1):t}function A(t){return N(t)in this._}function q(t){return(t=N(t))in this._&&delete this._[t]}function C(){var t=[];for(var n in this._)t.push(E(n));return t}function z(){var t=0;for(var n in this._)++t;return t}function L(){for(var t in this._)return false;return true}t.nest=function(){var n={},e=[],r=[],i,u;function a(t,r,o){if(o>=e.length)return u?u.call(n,r):i?r.sort(i):r;var s=-1,f=r.length,l=e[o++],c,h,g,p=new b,v;while(++s<f){if(v=p.get(c=l(h=r[s]))){v.push(h)}else{p.set(c,[h])}}if(t){h=t();g=function(n,e){h.set(n,a(t,e,o))}}else{h={};g=function(n,e){h[n]=a(t,e,o)}}p.forEach(g);return h}function o(t,n){if(n>=e.length)return t;var i=[],u=r[n++];t.forEach(function(t,e){i.push({key:t,values:o(e,n)})});return u?i.sort(function(t,n){return u(t.key,n.key)}):i}n.map=function(t,n){return a(n,t,0)};n.entries=function(n){return o(a(t.map,n,0),0)};n.key=function(t){e.push(t);return n};n.sortKeys=function(t){r[e.length-1]=t;return n};n.sortValues=function(t){i=t;return n};n.rollup=function(t){u=t;return n};return n};t.set=function(t){var n=new T;if(t)for(var e=0,r=t.length;e<r;++e)n.add(t[e]);return n};function T(){this._=Object.create(null)}_(T,{has:A,add:function(t){this._[N(t+="")]=true;return t},remove:q,values:C,size:z,empty:L,forEach:function(t){for(var n in this._)t.call(this,E(n))}});t.behavior={};function R(t){return t}t.rebind=function(t,n){var e=1,r=arguments.length,i;while(++e<r)t[i=arguments[e]]=D(t,n,n[i]);return t};function D(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function j(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=I.length;e<r;++e){var i=I[e]+n;if(i in t)return i}}var I=["webkit","ms","moz","Moz","o","O"];function O(){}t.dispatch=function(){var t=new P,n=-1,e=arguments.length;while(++n<e)t[arguments[n]]=F(t);return t};function P(){}P.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0){r=t.slice(e+1);t=t.slice(0,e)}if(t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(arguments.length===2){if(n==null)for(t in this){if(this.hasOwnProperty(t))this[t].on(r,null)}return this}};function F(t){var n=[],e=new b;function r(){var e=n,r=-1,i=e.length,u;while(++r<i)if(u=e[r].on)u.apply(this,arguments);return t}r.on=function(r,i){var u=e.get(r),a;if(arguments.length<2)return u&&u.on;if(u){u.on=null;n=n.slice(0,a=n.indexOf(u)).concat(n.slice(a+1));e.remove(r)}if(i)n.push(e.set(r,{on:i}));return t};return r}t.event=null;function U(){t.event.preventDefault()}function H(){var n=t.event,e;while(e=n.sourceEvent)n=e;return n}function Y(n){var e=new P,r=0,i=arguments.length;while(++r<i)e[arguments[r]]=F(e);e.of=function(r,i){return function(u){try{var a=u.sourceEvent=t.event;u.target=n;t.event=u;e[u.type].apply(r,i)}finally{t.event=a}}};return e}t.requote=function(t){return t.replace(V,"\\$&")};var V=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var Z={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]};function B(t){Z(t,W);return t}var X=function(t,n){return n.querySelector(t)},$=function(t,n){return n.querySelectorAll(t)},J=function(t,n){var e=t.matches||t[j(t,"matchesSelector")];J=function(t,n){return e.call(t,n)};return J(t,n)};if(typeof Sizzle==="function"){X=function(t,n){return Sizzle(t,n)[0]||null};$=Sizzle;J=Sizzle.matchesSelector}t.selection=function(){return t.select(i.documentElement)};var W=t.selection.prototype=[];W.select=function(t){var n=[],e,r,i,u;t=G(t);for(var a=-1,o=this.length;++a<o;){n.push(e=[]);e.parentNode=(i=this[a]).parentNode;for(var s=-1,f=i.length;++s<f;){if(u=i[s]){e.push(r=t.call(u,u.__data__,s,a));if(r&&"__data__"in u)r.__data__=u.__data__}else{e.push(null)}}}return B(n)};function G(t){return typeof t==="function"?t:function(){return X(t,this)}}W.selectAll=function(t){var n=[],e,i;t=Q(t);for(var u=-1,a=this.length;++u<a;){for(var o=this[u],s=-1,f=o.length;++s<f;){if(i=o[s]){n.push(e=r(t.call(i,i.__data__,s,u)));e.parentNode=i}}}return B(n)};function Q(t){return typeof t==="function"?t:function(){return $(t,this)}}var K={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};t.ns={prefix:K,qualify:function(t){var n=t.indexOf(":"),e=t;if(n>=0){e=t.slice(0,n);t=t.slice(n+1)}return K.hasOwnProperty(e)?{space:K[e],local:t}:t}};W.attr=function(n,e){if(arguments.length<2){if(typeof n==="string"){var r=this.node();n=t.ns.qualify(n);return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}for(e in n)this.each(tn(e,n[e]));return this}return this.each(tn(n,e))};function tn(n,e){n=t.ns.qualify(n);function r(){this.removeAttribute(n)}function i(){this.removeAttributeNS(n.space,n.local)}function u(){this.setAttribute(n,e)}function a(){this.setAttributeNS(n.space,n.local,e)}function o(){var t=e.apply(this,arguments);if(t==null)this.removeAttribute(n);else this.setAttribute(n,t)}function s(){var t=e.apply(this,arguments);if(t==null)this.removeAttributeNS(n.space,n.local);else this.setAttributeNS(n.space,n.local,t)}return e==null?n.local?i:r:typeof e==="function"?n.local?s:o:n.local?a:u}function nn(t){return t.trim().replace(/\s+/g," ")}W.classed=function(t,n){if(arguments.length<2){if(typeof t==="string"){var e=this.node(),r=(t=rn(t)).length,i=-1;if(n=e.classList){while(++i<r)if(!n.contains(t[i]))return false}else{n=e.getAttribute("class");while(++i<r)if(!en(t[i]).test(n))return false}return true}for(n in t)this.each(un(n,t[n]));return this}return this.each(un(t,n))};function en(n){return new RegExp("(?:^|\\s+)"+t.requote(n)+"(?:\\s+|$)","g")}function rn(t){return(t+"").trim().split(/^|\s+/)}function un(t,n){t=rn(t).map(an);var e=t.length;function r(){var r=-1;while(++r<e)t[r](this,n)}function i(){var r=-1,i=n.apply(this,arguments);while(++r<e)t[r](this,i)}return typeof n==="function"?i:r}function an(t){var n=en(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";if(r){n.lastIndex=0;if(!n.test(i))e.setAttribute("class",nn(i+" "+t))}else{e.setAttribute("class",nn(i.replace(n," ")))}}}W.style=function(t,n,e){var r=arguments.length;if(r<3){if(typeof t!=="string"){if(r<2)n="";for(e in t)this.each(on(e,t[e],n));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}e=""}return this.each(on(t,n,e))};function on(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function u(){var r=n.apply(this,arguments);if(r==null)this.style.removeProperty(t);else this.style.setProperty(t,r,e)}return n==null?r:typeof n==="function"?u:i}W.property=function(t,n){if(arguments.length<2){if(typeof t==="string")return this.node()[t];for(n in t)this.each(sn(n,t[n]));return this}return this.each(sn(t,n))};function sn(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);if(e==null)delete this[t];else this[t]=e}return n==null?e:typeof n==="function"?i:r}W.text=function(t){return arguments.length?this.each(typeof t==="function"?function(){var n=t.apply(this,arguments);this.textContent=n==null?"":n}:t==null?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent};W.html=function(t){return arguments.length?this.each(typeof t==="function"?function(){var n=t.apply(this,arguments);this.innerHTML=n==null?"":n}:t==null?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML};W.append=function(t){t=fn(t);return this.select(function(){return this.appendChild(t.apply(this,arguments))})};function fn(n){function e(){var t=this.ownerDocument,e=this.namespaceURI;return e?t.createElementNS(e,n):t.createElement(n)}function r(){return this.ownerDocument.createElementNS(n.space,n.local)}return typeof n==="function"?n:(n=t.ns.qualify(n)).local?r:e}W.insert=function(t,n){t=fn(t);n=G(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})};W.remove=function(){return this.each(ln)};function ln(){var t=this.parentNode;if(t)t.removeChild(this)}W.data=function(t,n){var e=-1,r=this.length,i,u;if(!arguments.length){t=new Array(r=(i=this[0]).length);while(++e<r){if(u=i[e]){t[e]=u.__data__}}return t}function a(t,e){var r,i=t.length,u=e.length,a=Math.min(i,u),l=new Array(u),c=new Array(u),h=new Array(i),g,p;if(n){var v=new b,d=new Array(i),m;for(r=-1;++r<i;){if(v.has(m=n.call(g=t[r],g.__data__,r))){h[r]=g}else{v.set(m,g)}d[r]=m}for(r=-1;++r<u;){if(!(g=v.get(m=n.call(e,p=e[r],r)))){c[r]=cn(p)}else if(g!==true){l[r]=g;g.__data__=p}v.set(m,true)}for(r=-1;++r<i;){if(v.get(d[r])!==true){h[r]=t[r]}}}else{for(r=-1;++r<a;){g=t[r];p=e[r];if(g){g.__data__=p;l[r]=g}else{c[r]=cn(p)}}for(;r<u;++r){c[r]=cn(e[r])}for(;r<i;++r){h[r]=t[r]}}c.update=l;c.parentNode=l.parentNode=h.parentNode=t.parentNode;o.push(c);s.push(l);f.push(h)}var o=vn([]),s=B([]),f=B([]);if(typeof t==="function"){while(++e<r){a(i=this[e],t.call(i,i.parentNode.__data__,e))}}else{while(++e<r){a(i=this[e],t)}}s.enter=function(){return o};s.exit=function(){return f};return s};function cn(t){return{__data__:t}}W.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")};W.filter=function(t){var n=[],e,r,i;if(typeof t!=="function")t=hn(t);for(var u=0,a=this.length;u<a;u++){n.push(e=[]);e.parentNode=(r=this[u]).parentNode;for(var o=0,s=r.length;o<s;o++){if((i=r[o])&&t.call(i,i.__data__,o,u)){e.push(i)}}}return B(n)};function hn(t){return function(){return J(this,t)}}W.order=function(){for(var t=-1,n=this.length;++t<n;){for(var e=this[t],r=e.length-1,i=e[r],u;--r>=0;){if(u=e[r]){if(i&&i!==u.nextSibling)i.parentNode.insertBefore(u,i);i=u}}}return this};W.sort=function(t){t=gn.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()};function gn(t){if(!arguments.length)t=p;return function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}W.each=function(t){return pn(this,function(n,e,r){t.call(n,n.__data__,e,r)})};function pn(t,n){for(var e=0,r=t.length;e<r;e++){for(var i=t[e],u=0,a=i.length,o;u<a;u++){if(o=i[u])n(o,u,e)}}return t}W.call=function(t){var n=r(arguments);t.apply(n[0]=this,n);return this};W.empty=function(){return!this.node()};W.node=function(){for(var t=0,n=this.length;t<n;t++){for(var e=this[t],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}}return null};W.size=function(){var t=0;pn(this,function(){++t});return t};function vn(t){Z(t,dn);return t}var dn=[];t.selection.enter=vn;t.selection.enter.prototype=dn;dn.append=W.append;dn.empty=W.empty;dn.node=W.node;dn.call=W.call;dn.size=W.size;dn.select=function(t){var n=[],e,r,i,u,a;for(var o=-1,s=this.length;++o<s;){i=(u=this[o]).update;n.push(e=[]);e.parentNode=u.parentNode;for(var f=-1,l=u.length;++f<l;){if(a=u[f]){e.push(i[f]=r=t.call(u.parentNode,a.__data__,f,o));r.__data__=a.__data__}else{e.push(null)}}}return B(n)};dn.insert=function(t,n){if(arguments.length<2)n=mn(this);return W.insert.call(this,t,n)};function mn(t){var n,e;return function(r,i,u){var a=t[u].update,o=a.length,s;if(u!=e)e=u,n=0;if(i>=n)n=i+1;while(!(s=a[n])&&++n<o);return s}}t.select=function(t){var n;if(typeof t==="string"){n=[X(t,i)];n.parentNode=i.documentElement}else{n=[t];n.parentNode=u(t)}return B([n])};t.selectAll=function(t){var n;if(typeof t==="string"){n=r($(t,i));n.parentNode=i.documentElement}else{n=t;n.parentNode=null}return B([n])};W.on=function(t,n,e){var r=arguments.length;if(r<3){if(typeof t!=="string"){if(r<2)n=false;for(e in t)this.each(yn(e,t[e],n));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;e=false}return this.each(yn(t,n,e))};function yn(n,e,i){var u="__on"+n,a=n.indexOf("."),o=Mn;if(a>0)n=n.slice(0,a);var s=xn.get(n);if(s)n=s,o=wn;function f(){var t=this[u];if(t){this.removeEventListener(n,t,t.$);delete this[u]}}function l(){var t=o(e,r(arguments));f.call(this);this.addEventListener(n,this[u]=t,t.$=i);t._=e}function c(){var e=new RegExp("^__on([^.]+)"+t.requote(n)+"$"),r;for(var i in this){if(r=i.match(e)){var u=this[i];this.removeEventListener(r[1],u,u.$);delete this[i]}}}return a?e?l:f:e?O:c}var xn=t.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(i){xn.forEach(function(t){if("on"+t in i)xn.remove(t)})}function Mn(n,e){return function(r){var i=t.event;t.event=r;e[0]=this.__data__;try{n.apply(this,e)}finally{t.event=i}}}function wn(t,n){var e=Mn(t,n);return function(t){var n=this,r=t.relatedTarget;if(!r||r!==n&&!(r.compareDocumentPosition(n)&8)){e.call(n,t)
}}}var _n,bn=0;function kn(n){var e=".dragsuppress-"+ ++bn,r="click"+e,i=t.select(a(n)).on("touchmove"+e,U).on("dragstart"+e,U).on("selectstart"+e,U);if(_n==null){_n="onselectstart"in n?false:j(n.style,"userSelect")}if(_n){var o=u(n).style,s=o[_n];o[_n]="none"}return function(t){i.on(e,null);if(_n)o[_n]=s;if(t){var n=function(){i.on(r,null)};i.on(r,function(){U();n()},true);setTimeout(n,0)}}}t.mouse=function(t){return Nn(t,H())};var Sn=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Nn(n,e){if(e.changedTouches)e=e.changedTouches[0];var r=n.ownerSVGElement||n;if(r.createSVGPoint){var i=r.createSVGPoint();if(Sn<0){var u=a(n);if(u.scrollX||u.scrollY){r=t.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=r[0][0].getScreenCTM();Sn=!(o.f||o.e);r.remove()}}if(Sn)i.x=e.pageX,i.y=e.pageY;else i.x=e.clientX,i.y=e.clientY;i=i.matrixTransform(n.getScreenCTM().inverse());return[i.x,i.y]}var s=n.getBoundingClientRect();return[e.clientX-s.left-n.clientLeft,e.clientY-s.top-n.clientTop]}t.touch=function(t,n,e){if(arguments.length<3)e=n,n=H().changedTouches;if(n)for(var r=0,i=n.length,u;r<i;++r){if((u=n[r]).identifier===e){return Nn(t,u)}}};t.behavior.drag=function(){var n=Y(u,"drag","dragstart","dragend"),e=null,r=o(O,t.mouse,a,"mousemove","mouseup"),i=o(En,t.touch,R,"touchmove","touchend");function u(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,u,a,o){return function(){var s=this,f=t.event.target,l=s.parentNode,c=n.of(s,arguments),h=0,g=r(),p=".drag"+(g==null?"":"-"+g),v,d=t.select(u(f)).on(a+p,x).on(o+p,M),m=kn(f),y=i(l,g);if(e){v=e.apply(s,arguments);v=[v.x-y[0],v.y-y[1]]}else{v=[0,0]}c({type:"dragstart"});function x(){var t=i(l,g),n,e;if(!t)return;n=t[0]-y[0];e=t[1]-y[1];h|=n|e;y=t;c({type:"drag",x:t[0]+v[0],y:t[1]+v[1],dx:n,dy:e})}function M(){if(!i(l,g))return;d.on(a+p,null).on(o+p,null);m(h&&t.event.target===f);c({type:"dragend"})}}}u.origin=function(t){if(!arguments.length)return e;e=t;return u};return t.rebind(u,n,"on")};function En(){return t.event.changedTouches[0].identifier}t.touches=function(t,n){if(arguments.length<2)n=H().touches;return n?r(n).map(function(n){var e=Nn(t,n);e.identifier=n.identifier;return e}):[]};var An=1e-6,qn=An*An,Cn=Math.PI,zn=2*Cn,Ln=zn-An,Tn=Cn/2,Rn=Cn/180,Dn=180/Cn;function jn(t){return t>0?1:t<0?-1:0}function In(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function On(t){return t>1?0:t<-1?Cn:Math.acos(t)}function Pn(t){return t>1?Tn:t<-1?-Tn:Math.asin(t)}function Fn(t){return((t=Math.exp(t))-1/t)/2}function Un(t){return((t=Math.exp(t))+1/t)/2}function Hn(t){return((t=Math.exp(2*t))-1)/(t+1)}function Yn(t){return(t=Math.sin(t/2))*t}var Vn=Math.SQRT2,Zn=2,Bn=4;t.interpolateZoom=function(t,n){var e=t[0],r=t[1],i=t[2],u=n[0],a=n[1],o=n[2];var s=u-e,f=a-r,l=s*s+f*f,c=Math.sqrt(l),h=(o*o-i*i+Bn*l)/(2*i*Zn*c),g=(o*o-i*i-Bn*l)/(2*o*Zn*c),p=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(g*g+1)-g),d=v-p,m=(d||Math.log(o/i))/Vn;function y(t){var n=t*m;if(d){var u=Un(p),a=i/(Zn*c)*(u*Hn(Vn*n+p)-Fn(p));return[e+a*s,r+a*f,i*u/Un(Vn*n+p)]}return[e+t*s,r+t*f,i*Math.exp(Vn*n)]}y.duration=m*1e3;return y};t.behavior.zoom=function(){var n={x:0,y:0,k:1},e,r,u,o=[960,500],s=Xn,f=250,l=0,c="mousedown.zoom",h="mousemove.zoom",g="mouseup.zoom",p,v="touchstart.zoom",d,m=Y(_,"zoomstart","zoom","zoomend"),y,x,M,w;if(!Jn){Jn="onwheel"in i?($n=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?($n=function(){return t.event.wheelDelta},"mousewheel"):($n=function(){return-t.event.detail},"MozMousePixelScroll")}function _(t){t.on(c,L).on(Jn+".zoom",R).on("dblclick.zoom",D).on(v,T)}_.event=function(e){e.each(function(){var e=m.of(this,arguments),i=n;if(Af){t.select(this).transition().each("start.zoom",function(){n=this.__chart__||{x:0,y:0,k:1};q(e)}).tween("zoom:zoom",function(){var u=o[0],a=o[1],s=r?r[0]:u/2,f=r?r[1]:a/2,l=t.interpolateZoom([(s-n.x)/n.k,(f-n.y)/n.k,u/n.k],[(s-i.x)/i.k,(f-i.y)/i.k,u/i.k]);return function(t){var r=l(t),i=u/r[2];this.__chart__=n={x:s-r[0]*i,y:f-r[1]*i,k:i};C(e)}}).each("interrupt.zoom",function(){z(e)}).each("end.zoom",function(){z(e)})}else{this.__chart__=n;q(e);C(e);z(e)}})};_.translate=function(t){if(!arguments.length)return[n.x,n.y];n={x:+t[0],y:+t[1],k:n.k};A();return _};_.scale=function(t){if(!arguments.length)return n.k;n={x:n.x,y:n.y,k:+t};A();return _};_.scaleExtent=function(t){if(!arguments.length)return s;s=t==null?Xn:[+t[0],+t[1]];return _};_.center=function(t){if(!arguments.length)return u;u=t&&[+t[0],+t[1]];return _};_.size=function(t){if(!arguments.length)return o;o=t&&[+t[0],+t[1]];return _};_.duration=function(t){if(!arguments.length)return f;f=+t;return _};_.x=function(t){if(!arguments.length)return x;x=t;y=t.copy();n={x:0,y:0,k:1};return _};_.y=function(t){if(!arguments.length)return w;w=t;M=t.copy();n={x:0,y:0,k:1};return _};function b(t){return[(t[0]-n.x)/n.k,(t[1]-n.y)/n.k]}function k(t){return[t[0]*n.k+n.x,t[1]*n.k+n.y]}function S(t){n.k=Math.max(s[0],Math.min(s[1],t))}function N(t,e){e=k(e);n.x+=t[0]-e[0];n.y+=t[1]-e[1]}function E(e,i,u,a){e.__chart__={x:n.x,y:n.y,k:n.k};S(Math.pow(2,a));N(r=i,u);e=t.select(e);if(f>0)e=e.transition().duration(f);e.call(_.event)}function A(){if(x)x.domain(y.range().map(function(t){return(t-n.x)/n.k}).map(y.invert));if(w)w.domain(M.range().map(function(t){return(t-n.y)/n.k}).map(M.invert))}function q(t){if(!l++)t({type:"zoomstart"})}function C(t){A();t({type:"zoom",scale:n.k,translate:[n.x,n.y]})}function z(t){if(!--l)t({type:"zoomend"});r=null}function L(){var n=this,e=t.event.target,r=m.of(n,arguments),i=0,u=t.select(a(n)).on(h,f).on(g,l),o=b(t.mouse(n)),s=kn(n);bf.call(n);q(r);function f(){i=1;N(t.mouse(n),o);C(r)}function l(){u.on(h,null).on(g,null);s(i&&t.event.target===e);z(r)}}function T(){var e=this,r=m.of(e,arguments),i={},u=0,a,o=".zoom-"+t.event.changedTouches[0].identifier,s="touchmove"+o,f="touchend"+o,l=[],h=t.select(e),g=kn(e);y();q(r);h.on(c,null).on(v,y);function p(){var r=t.touches(e);a=n.k;r.forEach(function(t){if(t.identifier in i)i[t.identifier]=b(t)});return r}function y(){var r=t.event.target;t.select(r).on(s,x).on(f,M);l.push(r);var a=t.event.changedTouches;for(var o=0,c=a.length;o<c;++o){i[a[o].identifier]=null}var h=p(),g=Date.now();if(h.length===1){if(g-d<500){var v=h[0];E(e,v,i[v.identifier],Math.floor(Math.log(n.k)/Math.LN2)+1);U()}d=g}else if(h.length>1){var v=h[0],m=h[1],y=v[0]-m[0],w=v[1]-m[1];u=y*y+w*w}}function x(){var n=t.touches(e),o,s,f,l;bf.call(e);for(var c=0,h=n.length;c<h;++c,l=null){f=n[c];if(l=i[f.identifier]){if(s)break;o=f,s=l}}if(l){var g=(g=f[0]-o[0])*g+(g=f[1]-o[1])*g,p=u&&Math.sqrt(g/u);o=[(o[0]+f[0])/2,(o[1]+f[1])/2];s=[(s[0]+l[0])/2,(s[1]+l[1])/2];S(p*a)}d=null;N(o,s);C(r)}function M(){if(t.event.touches.length){var n=t.event.changedTouches;for(var e=0,u=n.length;e<u;++e){delete i[n[e].identifier]}for(var a in i){return void p()}}t.selectAll(l).on(o,null);h.on(c,L).on(v,T);g();z(r)}}function R(){var i=m.of(this,arguments);if(p)clearTimeout(p);else e=b(r=u||t.mouse(this)),bf.call(this),q(i);p=setTimeout(function(){p=null;z(i)},50);U();S(Math.pow(2,$n()*.002)*n.k);N(r,e);C(i)}function D(){var e=t.mouse(this),r=Math.log(n.k)/Math.LN2;E(this,e,b(e),t.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)}return t.rebind(_,m,"on")};var Xn=[0,Infinity],$n,Jn;t.color=Wn;function Wn(){}Wn.prototype.toString=function(){return this.rgb()+""};t.hsl=Gn;function Gn(t,n,e){return this instanceof Gn?void(this.h=+t,this.s=+n,this.l=+e):arguments.length<2?t instanceof Gn?new Gn(t.h,t.s,t.l):xe(""+t,Me,Gn):new Gn(t,n,e)}var Qn=Gn.prototype=new Wn;Qn.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);return new Gn(this.h,this.s,this.l/t)};Qn.darker=function(t){t=Math.pow(.7,arguments.length?t:1);return new Gn(this.h,this.s,t*this.l)};Qn.rgb=function(){return Kn(this.h,this.s,this.l)};function Kn(t,n,e){var r,i;t=isNaN(t)?0:(t%=360)<0?t+360:t;n=isNaN(n)?0:n<0?0:n>1?1:n;e=e<0?0:e>1?1:e;i=e<=.5?e*(1+n):e+n-e*n;r=2*e-i;function u(t){if(t>360)t-=360;else if(t<0)t+=360;if(t<60)return r+(i-r)*t/60;if(t<180)return i;if(t<240)return r+(i-r)*(240-t)/60;return r}function a(t){return Math.round(u(t)*255)}return new pe(a(t+120),a(t),a(t-120))}t.hcl=te;function te(n,e,r){return this instanceof te?void(this.h=+n,this.c=+e,this.l=+r):arguments.length<2?n instanceof te?new te(n.h,n.c,n.l):n instanceof re?le(n.l,n.a,n.b):le((n=we((n=t.rgb(n)).r,n.g,n.b)).l,n.a,n.b):new te(n,e,r)}var ne=te.prototype=new Wn;ne.brighter=function(t){return new te(this.h,this.c,Math.min(100,this.l+ie*(arguments.length?t:1)))};ne.darker=function(t){return new te(this.h,this.c,Math.max(0,this.l-ie*(arguments.length?t:1)))};ne.rgb=function(){return ee(this.h,this.c,this.l).rgb()};function ee(t,n,e){if(isNaN(t))t=0;if(isNaN(n))n=0;return new re(e,Math.cos(t*=Rn)*n,Math.sin(t)*n)}t.lab=re;function re(t,n,e){return this instanceof re?void(this.l=+t,this.a=+n,this.b=+e):arguments.length<2?t instanceof re?new re(t.l,t.a,t.b):t instanceof te?ee(t.h,t.c,t.l):we((t=pe(t)).r,t.g,t.b):new re(t,n,e)}var ie=18;var ue=.95047,ae=1,oe=1.08883;var se=re.prototype=new Wn;se.brighter=function(t){return new re(Math.min(100,this.l+ie*(arguments.length?t:1)),this.a,this.b)};se.darker=function(t){return new re(Math.max(0,this.l-ie*(arguments.length?t:1)),this.a,this.b)};se.rgb=function(){return fe(this.l,this.a,this.b)};function fe(t,n,e){var r=(t+16)/116,i=r+n/500,u=r-e/200;i=ce(i)*ue;r=ce(r)*ae;u=ce(u)*oe;return new pe(ge(3.2404542*i-1.5371385*r-.4985314*u),ge(-.969266*i+1.8760108*r+.041556*u),ge(.0556434*i-.2040259*r+1.0572252*u))}function le(t,n,e){return t>0?new te(Math.atan2(e,n)*Dn,Math.sqrt(n*n+e*e),t):new te(NaN,NaN,t)}function ce(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function he(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ge(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}t.rgb=pe;function pe(t,n,e){return this instanceof pe?void(this.r=~~t,this.g=~~n,this.b=~~e):arguments.length<2?t instanceof pe?new pe(t.r,t.g,t.b):xe(""+t,pe,Kn):new pe(t,n,e)}function ve(t){return new pe(t>>16,t>>8&255,t&255)}function de(t){return ve(t)+""}var me=pe.prototype=new Wn;me.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;if(!n&&!e&&!r)return new pe(i,i,i);if(n&&n<i)n=i;if(e&&e<i)e=i;if(r&&r<i)r=i;return new pe(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))};me.darker=function(t){t=Math.pow(.7,arguments.length?t:1);return new pe(t*this.r,t*this.g,t*this.b)};me.hsl=function(){return Me(this.r,this.g,this.b)};me.toString=function(){return"#"+ye(this.r)+ye(this.g)+ye(this.b)};function ye(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xe(t,n,e){var r=0,i=0,u=0,a,o,s;a=/([a-z]+)\((.*)\)/i.exec(t);if(a){o=a[2].split(",");switch(a[1]){case"hsl":{return e(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100)}case"rgb":{return n(be(o[0]),be(o[1]),be(o[2]))}}}if(s=ke.get(t.toLowerCase())){return n(s.r,s.g,s.b)}if(t!=null&&t.charAt(0)==="#"&&!isNaN(s=parseInt(t.slice(1),16))){if(t.length===4){r=(s&3840)>>4;r=r>>4|r;i=s&240;i=i>>4|i;u=s&15;u=u<<4|u}else if(t.length===7){r=(s&16711680)>>16;i=(s&65280)>>8;u=s&255}}return n(r,i,u)}function Me(t,n,e){var r=Math.min(t/=255,n/=255,e/=255),i=Math.max(t,n,e),u=i-r,a,o,s=(i+r)/2;if(u){o=s<.5?u/(i+r):u/(2-i-r);if(t==i)a=(n-e)/u+(n<e?6:0);else if(n==i)a=(e-t)/u+2;else a=(t-n)/u+4;a*=60}else{a=NaN;o=s>0&&s<1?0:a}return new Gn(a,o,s)}function we(t,n,e){t=_e(t);n=_e(n);e=_e(e);var r=he((.4124564*t+.3575761*n+.1804375*e)/ue),i=he((.2126729*t+.7151522*n+.072175*e)/ae),u=he((.0193339*t+.119192*n+.9503041*e)/oe);return re(116*i-16,500*(r-i),200*(i-u))}function _e(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function be(t){var n=parseFloat(t);return t.charAt(t.length-1)==="%"?Math.round(n*2.55):n}var ke=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ke.forEach(function(t,n){ke.set(t,ve(n))});function Se(t){return typeof t==="function"?t:function(){return t}}t.functor=Se;t.xhr=Ne(R);function Ne(t){return function(n,e,r){if(arguments.length===2&&typeof e==="function")r=e,e=null;return Ee(n,e,t,r)}}function Ee(n,e,i,u){var a={},o=t.dispatch("beforesend","progress","load","error"),s={},f=new XMLHttpRequest,l=null;if(this.XDomainRequest&&!("withCredentials"in f)&&/^(http(s)?:)?\/\//.test(n))f=new XDomainRequest;"onload"in f?f.onload=f.onerror=c:f.onreadystatechange=function(){f.readyState>3&&c()};function c(){var t=f.status,n;if(!t&&qe(f)||t>=200&&t<300||t===304){try{n=i.call(a,f)}catch(e){o.error.call(a,e);return}o.load.call(a,n)}else{o.error.call(a,f)}}f.onprogress=function(n){var e=t.event;t.event=n;try{o.progress.call(a,f)}finally{t.event=e}};a.header=function(t,n){t=(t+"").toLowerCase();if(arguments.length<2)return s[t];if(n==null)delete s[t];else s[t]=n+"";return a};a.mimeType=function(t){if(!arguments.length)return e;e=t==null?null:t+"";return a};a.responseType=function(t){if(!arguments.length)return l;l=t;return a};a.response=function(t){i=t;return a};["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(r(arguments)))}});a.send=function(t,r,i){if(arguments.length===2&&typeof r==="function")i=r,r=null;f.open(t,n,true);if(e!=null&&!("accept"in s))s["accept"]=e+",*/*";if(f.setRequestHeader)for(var u in s)f.setRequestHeader(u,s[u]);if(e!=null&&f.overrideMimeType)f.overrideMimeType(e);if(l!=null)f.responseType=l;if(i!=null)a.on("error",i).on("load",function(t){i(null,t)});o.beforesend.call(a,f);f.send(r==null?null:r);return a};a.abort=function(){f.abort();return a};t.rebind(a,o,"on");return u==null?a:a.get(Ae(u))}function Ae(t){return t.length===1?function(n,e){t(n==null?e:null)}:t}function qe(t){var n=t.responseType;return n&&n!=="text"?t.response:t.responseText}t.dsv=function(t,n){var e=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,e,r){if(arguments.length<3)r=e,e=null;var i=Ee(t,n,e==null?u:a(e),r);i.row=function(t){return arguments.length?i.response((e=t)==null?u:a(t)):e};return i}function u(t){return i.parse(t.responseText)}function a(t){return function(n){return i.parse(n.responseText,t)}}i.parse=function(t,n){var e;return i.parseRows(t,function(t,r){if(e)return e(t,r-1);var i=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");e=n?function(t,e){return n(i(t),e)}:i})};i.parseRows=function(t,n){var e={},i={},u=[],a=t.length,o=0,s=0,f,l;function c(){if(o>=a)return i;if(l)return l=false,e;var n=o;if(t.charCodeAt(n)===34){var u=n;while(u++<a){if(t.charCodeAt(u)===34){if(t.charCodeAt(u+1)!==34)break;++u}}o=u+2;var s=t.charCodeAt(u+1);if(s===13){l=true;if(t.charCodeAt(u+2)===10)++o}else if(s===10){l=true}return t.slice(n+1,u).replace(/""/g,'"')}while(o<a){var s=t.charCodeAt(o++),f=1;if(s===10)l=true;else if(s===13){l=true;if(t.charCodeAt(o)===10)++o,++f}else if(s!==r)continue;return t.slice(n,o-f)}return t.slice(n)}while((f=c())!==i){var h=[];while(f!==e&&f!==i){h.push(f);f=c()}if(n&&(h=n(h,s++))==null)continue;u.push(h)}return u};i.format=function(n){if(Array.isArray(n[0]))return i.formatRows(n);var e=new T,r=[];n.forEach(function(t){for(var n in t){if(!e.has(n)){r.push(e.add(n))}}});return[r.map(s).join(t)].concat(n.map(function(n){return r.map(function(t){return s(n[t])}).join(t)})).join("\n")};i.formatRows=function(t){return t.map(o).join("\n")};function o(n){return n.map(s).join(t)}function s(t){return e.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i};t.csv=t.dsv(",","text/csv");t.tsv=t.dsv("	","text/tab-separated-values");var Ce,ze,Le,Te,Re,De=this[j(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};t.timer=function(t,n,e){var r=arguments.length;if(r<2)n=0;if(r<3)e=Date.now();var i=e+n,u={c:t,t:i,f:false,n:null};if(ze)ze.n=u;else Ce=u;ze=u;if(!Le){Te=clearTimeout(Te);Le=1;De(je)}};function je(){var t=Ie(),n=Oe()-t;if(n>24){if(isFinite(n)){clearTimeout(Te);Te=setTimeout(je,n)}Le=0}else{Le=1;De(je)}}t.timer.flush=function(){Ie();Oe()};function Ie(){var t=Date.now();Re=Ce;while(Re){if(t>=Re.t)Re.f=Re.c(t-Re.t);Re=Re.n}return t}function Oe(){var t,n=Ce,e=Infinity;while(n){if(n.f){n=t?t.n=n.n:Ce=n.n}else{if(n.t<e)e=n.t;n=(t=n).n}}ze=t;return e}function Pe(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}t.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var Fe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ue);t.formatPrefix=function(n,e){var r=0;if(n){if(n<0)n*=-1;if(e)n=t.round(n,Pe(n,e));r=1+Math.floor(1e-12+Math.log(n)/Math.LN10);r=Math.max(-24,Math.min(24,Math.floor((r-1)/3)*3))}return Fe[8+r/3]};function Ue(t,n){var e=Math.pow(10,M(8-n)*3);return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function He(n){var e=n.decimal,r=n.thousands,i=n.grouping,u=n.currency,a=i&&r?function(t,n){var e=t.length,u=[],a=0,o=i[0],s=0;while(e>0&&o>0){if(s+o+1>n)o=Math.max(1,n-s);u.push(t.substring(e-=o,e+o));if((s+=o+1)>n)break;o=i[a=(a+1)%i.length]}return u.reverse().join(r)}:R;return function(n){var r=Ye.exec(n),i=r[1]||" ",o=r[2]||">",s=r[3]||"-",f=r[4]||"",l=r[5],c=+r[6],h=r[7],g=r[8],p=r[9],v=1,d="",m="",y=false,x=true;if(g)g=+g.substring(1);if(l||i==="0"&&o==="="){l=i="0";o="="}switch(p){case"n":h=true;p="g";break;case"%":v=100;m="%";p="f";break;case"p":v=100;m="%";p="r";break;case"b":case"o":case"x":case"X":if(f==="#")d="0"+p.toLowerCase();case"c":x=false;case"d":y=true;g=0;break;case"s":v=-1;p="r";break}if(f==="$")d=u[0],m=u[1];if(p=="r"&&!g)p="g";if(g!=null){if(p=="g")g=Math.max(1,Math.min(21,g));else if(p=="e"||p=="f")g=Math.max(0,Math.min(20,g))}p=Ve.get(p)||Ze;var M=l&&h;return function(n){var r=m;if(y&&n%1)return"";var u=n<0||n===0&&1/n<0?(n=-n,"-"):s==="-"?"":s;if(v<0){var f=t.formatPrefix(n,g);n=f.scale(n);r=f.symbol+m}else{n*=v}n=p(n,g);var w=n.lastIndexOf("."),_,b;if(w<0){var k=x?n.lastIndexOf("e"):-1;if(k<0)_=n,b="";else _=n.substring(0,k),b=n.substring(k)}else{_=n.substring(0,w);b=e+n.substring(w+1)}if(!l&&h)_=a(_,Infinity);var S=d.length+_.length+b.length+(M?0:u.length),N=S<c?new Array(S=c-S+1).join(i):"";if(M)_=a(N+_,N.length?c-b.length:Infinity);u+=d;n=_+b;return(o==="<"?u+n+N:o===">"?N+u+n:o==="^"?N.substring(0,S>>=1)+u+n+N.substring(S):u+(M?n:N+n))+r}}}var Ye=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var Ve=t.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(n,e){return(n=t.round(n,Pe(n,e))).toFixed(Math.max(0,Math.min(20,Pe(n*(1+1e-15),e))))}});function Ze(t){return t+""}var Be=t.time={},Xe=Date;function $e(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}$e.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Je.setUTCDate.apply(this._,arguments)},setDay:function(){Je.setUTCDay.apply(this._,arguments)},setFullYear:function(){Je.setUTCFullYear.apply(this._,arguments)},setHours:function(){Je.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Je.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Je.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Je.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Je.setUTCSeconds.apply(this._,arguments)},setTime:function(){Je.setTime.apply(this._,arguments)}};var Je=Date.prototype;function We(t,n,e){function r(n){var e=t(n),r=u(e,1);return n-e<r-n?e:r}function i(e){n(e=t(new Xe(e-1)),1);return e}function u(t,e){n(t=new Xe(+t),e);return t}function a(t,r,u){var a=i(t),o=[];if(u>1){while(a<r){if(!(e(a)%u))o.push(new Date(+a));n(a,1)}}else{while(a<r)o.push(new Date(+a)),n(a,1)}return o}function o(t,n,e){try{Xe=$e;var r=new $e;r._=t;return a(r,n,e)}finally{Xe=Date}}t.floor=t;t.round=r;t.ceil=i;t.offset=u;t.range=a;var s=t.utc=Ge(t);s.floor=s;s.round=Ge(r);s.ceil=Ge(i);s.offset=Ge(u);s.range=o;return t}function Ge(t){return function(n,e){try{Xe=$e;var r=new $e;r._=n;return t(r,e)._}finally{Xe=Date}}}Be.year=We(function(t){t=Be.day(t);t.setMonth(0,1);return t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()});Be.years=Be.year.range;Be.years.utc=Be.year.utc.range;Be.day=We(function(t){var n=new Xe(2e3,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());return n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1});Be.days=Be.day.range;Be.days.utc=Be.day.utc.range;Be.dayOfYear=function(t){var n=Be.year(t);return Math.floor((t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*6e4)/864e5)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=Be[t]=We(function(t){(t=Be.day(t)).setDate(t.getDate()-(t.getDay()+n)%7);return t},function(t,n){t.setDate(t.getDate()+Math.floor(n)*7)},function(t){var e=Be.year(t).getDay();return Math.floor((Be.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});Be[t+"s"]=e.range;Be[t+"s"].utc=e.utc.range;Be[t+"OfYear"]=function(t){var e=Be.year(t).getDay();return Math.floor((Be.dayOfYear(t)+(e+n)%7)/7)}});Be.week=Be.sunday;Be.weeks=Be.sunday.range;Be.weeks.utc=Be.sunday.utc.range;Be.weekOfYear=Be.sundayOfYear;function Qe(n){var e=n.dateTime,r=n.date,i=n.time,u=n.periods,a=n.days,o=n.shortDays,s=n.months,f=n.shortMonths;function l(t){var n=t.length;function e(e){var r=[],i=-1,u=0,a,o,s;while(++i<n){if(t.charCodeAt(i)===37){r.push(t.slice(u,i));if((o=Ke[a=t.charAt(++i)])!=null)a=t.charAt(++i);if(s=w[a])a=s(e,o==null?a==="e"?" ":"0":o);r.push(a);u=i+1}}r.push(t.slice(u,i));return r.join("")}e.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=c(e,t,n,0);if(r!=n.length)return null;if("p"in e)e.H=e.H%12+e.p*12;var i=e.Z!=null&&Xe!==$e,u=new(i?$e:Xe);if("j"in e)u.setFullYear(e.y,0,e.j);else if("w"in e&&("W"in e||"U"in e)){u.setFullYear(e.y,0,1);u.setFullYear(e.y,0,"W"in e?(e.w+6)%7+e.W*7-(u.getDay()+5)%7:e.w+e.U*7-(u.getDay()+6)%7)}else u.setFullYear(e.y,e.m,e.d);u.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L);return i?u._:u};e.toString=function(){return t};return e}function c(t,n,e,r){var i,u,a,o=0,s=n.length,f=e.length;while(o<s){if(r>=f)return-1;i=n.charCodeAt(o++);if(i===37){a=n.charAt(o++);u=_[a in Ke?n.charAt(o++):a];if(!u||(r=u(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++)){return-1}}return r}l.utc=function(t){var n=l(t);function e(t){try{Xe=$e;var e=new Xe;e._=t;return n(e)}finally{Xe=Date}}e.parse=function(t){try{Xe=$e;var e=n.parse(t);return e&&e._}finally{Xe=Date}};e.toString=n.toString;return e};l.multi=l.utc.multi=wr;var h=t.map(),g=rr(a),p=ir(a),v=rr(o),d=ir(o),m=rr(s),y=ir(s),x=rr(f),M=ir(f);u.forEach(function(t,n){h.set(t.toLowerCase(),n)});var w={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return f[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:l(e),d:function(t,n){return er(t.getDate(),n,2)},e:function(t,n){return er(t.getDate(),n,2)},H:function(t,n){return er(t.getHours(),n,2)},I:function(t,n){return er(t.getHours()%12||12,n,2)},j:function(t,n){return er(1+Be.dayOfYear(t),n,3)},L:function(t,n){return er(t.getMilliseconds(),n,3)},m:function(t,n){return er(t.getMonth()+1,n,2)},M:function(t,n){return er(t.getMinutes(),n,2)},p:function(t){return u[+(t.getHours()>=12)]},S:function(t,n){return er(t.getSeconds(),n,2)},U:function(t,n){return er(Be.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return er(Be.mondayOfYear(t),n,2)},x:l(r),X:l(i),y:function(t,n){return er(t.getFullYear()%100,n,2)},Y:function(t,n){return er(t.getFullYear()%1e4,n,4)},Z:xr,"%":function(){return"%"}};var _={a:b,A:k,b:S,B:N,c:E,d:gr,e:gr,H:vr,I:vr,j:pr,L:yr,m:hr,M:dr,p:C,S:mr,U:ar,w:ur,W:or,x:A,X:q,y:fr,Y:sr,Z:lr,"%":Mr};function b(t,n,e){v.lastIndex=0;var r=v.exec(n.slice(e));return r?(t.w=d.get(r[0].toLowerCase()),e+r[0].length):-1}function k(t,n,e){g.lastIndex=0;var r=g.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1}function S(t,n,e){x.lastIndex=0;var r=x.exec(n.slice(e));return r?(t.m=M.get(r[0].toLowerCase()),e+r[0].length):-1}function N(t,n,e){m.lastIndex=0;var r=m.exec(n.slice(e));return r?(t.m=y.get(r[0].toLowerCase()),e+r[0].length):-1}function E(t,n,e){return c(t,w.c.toString(),n,e)}function A(t,n,e){return c(t,w.x.toString(),n,e)}function q(t,n,e){return c(t,w.X.toString(),n,e)}function C(t,n,e){var r=h.get(n.slice(e,e+=2).toLowerCase());return r==null?-1:(t.p=r,e)}return l}var Ke={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,nr=/^%/;function er(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(n)+i:i)}function rr(n){return new RegExp("^(?:"+n.map(t.requote).join("|")+")","i")}function ir(t){var n=new b,e=-1,r=t.length;while(++e<r)n.set(t[e].toLowerCase(),e);return n}function ur(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ar(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function or(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function sr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function fr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+2));return r?(t.y=cr(+r[0]),e+r[0].length):-1}function lr(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function cr(t){return t+(t>68?1900:2e3)}function hr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function gr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function pr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function vr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function dr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function mr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function yr(t,n,e){tr.lastIndex=0;var r=tr.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function xr(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=M(n)/60|0,i=M(n)%60;return e+er(r,"0",2)+er(i,"0",2)}function Mr(t,n,e){nr.lastIndex=0;var r=nr.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function wr(t){var n=t.length,e=-1;while(++e<n)t[e][0]=this(t[e][0]);return function(n){var e=0,r=t[e];while(!r[1](n))r=t[++e];return r[0](n)}}t.locale=function(t){return{numberFormat:He(t),timeFormat:Qe(t)}};var _r=t.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});t.format=_r.numberFormat;t.geo={};function br(){}br.prototype={s:0,t:0,add:function(t){Sr(t,this.t,kr);Sr(kr.s,this.s,this);if(this.s)this.t+=kr.t;else this.s=kr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var kr=new br;function Sr(t,n,e){var r=e.s=t+n,i=r-t,u=r-i;e.t=t-u+(n-i)}t.geo.stream=function(t,n){if(t&&Er.hasOwnProperty(t.type)){Er[t.type](t,n)}else{Nr(t,n)}};function Nr(t,n){if(t&&Ar.hasOwnProperty(t.type)){Ar[t.type](t,n)}}var Er={Feature:function(t,n){Nr(t.geometry,n)},FeatureCollection:function(t,n){var e=t.features,r=-1,i=e.length;while(++r<i)Nr(e[r].geometry,n)}};var Ar={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates;n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){qr(t.coordinates,n,0)},MultiLineString:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)qr(e[r],n,0)},Polygon:function(t,n){Cr(t.coordinates,n)},MultiPolygon:function(t,n){var e=t.coordinates,r=-1,i=e.length;while(++r<i)Cr(e[r],n)},GeometryCollection:function(t,n){var e=t.geometries,r=-1,i=e.length;while(++r<i)Nr(e[r],n)}};function qr(t,n,e){var r=-1,i=t.length-e,u;n.lineStart();while(++r<i)u=t[r],n.point(u[0],u[1],u[2]);n.lineEnd()}function Cr(t,n){var e=-1,r=t.length;n.polygonStart();while(++e<r)qr(t[e],n,1);n.polygonEnd()}t.geo.area=function(n){zr=0;t.geo.stream(n,Tr);return zr};var zr,Lr=new br;var Tr={sphere:function(){zr+=4*Cn},point:O,lineStart:O,lineEnd:O,polygonStart:function(){Lr.reset();Tr.lineStart=Rr},polygonEnd:function(){var t=2*Lr;zr+=t<0?4*Cn+t:t;Tr.lineStart=Tr.lineEnd=Tr.point=O}};function Rr(){var t,n,e,r,i;
Tr.point=function(a,o){Tr.point=u;e=(t=a)*Rn,r=Math.cos(o=(n=o)*Rn/2+Cn/4),i=Math.sin(o)};function u(t,n){t*=Rn;n=n*Rn/2+Cn/4;var u=t-e,a=u>=0?1:-1,o=a*u,s=Math.cos(n),f=Math.sin(n),l=i*f,c=r*s+l*Math.cos(o),h=l*a*Math.sin(o);Lr.add(Math.atan2(h,c));e=t,r=s,i=f}Tr.lineEnd=function(){u(t,n)}}function Dr(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function jr(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ir(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Or(t,n){t[0]+=n[0];t[1]+=n[1];t[2]+=n[2]}function Pr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Fr(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n;t[1]/=n;t[2]/=n}function Ur(t){return[Math.atan2(t[1],t[0]),Pn(t[2])]}function Hr(t,n){return M(t[0]-n[0])<An&&M(t[1]-n[1])<An}t.geo.bounds=function(){var n,e,r,i,u,a,o,s,f,l,c;var h={point:g,lineStart:v,lineEnd:d,polygonStart:function(){h.point=m;h.lineStart=y;h.lineEnd=x;f=0;Tr.polygonStart()},polygonEnd:function(){Tr.polygonEnd();h.point=g;h.lineStart=v;h.lineEnd=d;if(Lr<0)n=-(r=180),e=-(i=90);else if(f>An)i=90;else if(f<-An)e=-90;c[0]=n,c[1]=r}};function g(t,u){l.push(c=[n=t,r=t]);if(u<e)e=u;if(u>i)i=u}function p(t,a){var o=Dr([t*Rn,a*Rn]);if(s){var f=Ir(s,o),l=[f[1],-f[0],0],c=Ir(l,f);Fr(c);c=Ur(c);var h=t-u,p=h>0?1:-1,v=c[0]*Dn*p,d=M(h)>180;if(d^(p*u<v&&v<p*t)){var m=c[1]*Dn;if(m>i)i=m}else if(v=(v+360)%360-180,d^(p*u<v&&v<p*t)){var m=-c[1]*Dn;if(m<e)e=m}else{if(a<e)e=a;if(a>i)i=a}if(d){if(t<u){if(w(n,t)>w(n,r))r=t}else{if(w(t,r)>w(n,r))n=t}}else{if(r>=n){if(t<n)n=t;if(t>r)r=t}else{if(t>u){if(w(n,t)>w(n,r))r=t}else{if(w(t,r)>w(n,r))n=t}}}}else{g(t,a)}s=o,u=t}function v(){h.point=p}function d(){c[0]=n,c[1]=r;h.point=g;s=null}function m(t,n){if(s){var e=t-u;f+=M(e)>180?e+(e>0?360:-360):e}else a=t,o=n;Tr.point(t,n);p(t,n)}function y(){Tr.lineStart()}function x(){m(a,o);Tr.lineEnd();if(M(f)>An)n=-(r=180);c[0]=n,c[1]=r;s=null}function w(t,n){return(n-=t)<0?n+360:n}function _(t,n){return t[0]-n[0]}function b(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}return function(u){i=r=-(n=e=Infinity);l=[];t.geo.stream(u,h);var a=l.length;if(a){l.sort(_);for(var o=1,s=l[0],f,g=[s];o<a;++o){f=l[o];if(b(f[0],s)||b(f[1],s)){if(w(s[0],f[1])>w(s[0],s[1]))s[1]=f[1];if(w(f[0],s[1])>w(s[0],s[1]))s[0]=f[0]}else{g.push(s=f)}}var p=-Infinity,v;for(var a=g.length-1,o=0,s=g[a],f;o<=a;s=f,++o){f=g[o];if((v=w(s[1],f[0]))>p)p=v,n=f[0],r=s[1]}}l=c=null;return n===Infinity||e===Infinity?[[NaN,NaN],[NaN,NaN]]:[[n,e],[r,i]]}}();t.geo.centroid=function(n){Yr=Vr=Zr=Br=Xr=$r=Jr=Wr=Gr=Qr=Kr=0;t.geo.stream(n,ti);var e=Gr,r=Qr,i=Kr,u=e*e+r*r+i*i;if(u<qn){e=$r,r=Jr,i=Wr;if(Vr<An)e=Zr,r=Br,i=Xr;u=e*e+r*r+i*i;if(u<qn)return[NaN,NaN]}return[Math.atan2(r,e)*Dn,Pn(i/Math.sqrt(u))*Dn]};var Yr,Vr,Zr,Br,Xr,$r,Jr,Wr,Gr,Qr,Kr;var ti={sphere:O,point:ni,lineStart:ri,lineEnd:ii,polygonStart:function(){ti.lineStart=ui},polygonEnd:function(){ti.lineStart=ri}};function ni(t,n){t*=Rn;var e=Math.cos(n*=Rn);ei(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function ei(t,n,e){++Yr;Zr+=(t-Zr)/Yr;Br+=(n-Br)/Yr;Xr+=(e-Xr)/Yr}function ri(){var t,n,e;ti.point=function(i,u){i*=Rn;var a=Math.cos(u*=Rn);t=a*Math.cos(i);n=a*Math.sin(i);e=Math.sin(u);ti.point=r;ei(t,n,e)};function r(r,i){r*=Rn;var u=Math.cos(i*=Rn),a=u*Math.cos(r),o=u*Math.sin(r),s=Math.sin(i),f=Math.atan2(Math.sqrt((f=n*s-e*o)*f+(f=e*a-t*s)*f+(f=t*o-n*a)*f),t*a+n*o+e*s);Vr+=f;$r+=f*(t+(t=a));Jr+=f*(n+(n=o));Wr+=f*(e+(e=s));ei(t,n,e)}}function ii(){ti.point=ni}function ui(){var t,n,e,r,i;ti.point=function(a,o){t=a,n=o;ti.point=u;a*=Rn;var s=Math.cos(o*=Rn);e=s*Math.cos(a);r=s*Math.sin(a);i=Math.sin(o);ei(e,r,i)};ti.lineEnd=function(){u(t,n);ti.lineEnd=ii;ti.point=ni};function u(t,n){t*=Rn;var u=Math.cos(n*=Rn),a=u*Math.cos(t),o=u*Math.sin(t),s=Math.sin(n),f=r*s-i*o,l=i*a-e*s,c=e*o-r*a,h=Math.sqrt(f*f+l*l+c*c),g=e*a+r*o+i*s,p=h&&-On(g)/h,v=Math.atan2(h,g);Gr+=p*f;Qr+=p*l;Kr+=p*c;Vr+=v;$r+=v*(e+(e=a));Jr+=v*(r+(r=o));Wr+=v*(i+(i=s));ei(e,r,i)}}function ai(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}if(t.invert&&n.invert)e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])};return e}function oi(){return true}function si(t,n,e,r,i){var u=[],a=[];t.forEach(function(t){if((n=t.length-1)<=0)return;var n,e=t[0],r=t[n];if(Hr(e,r)){i.lineStart();for(var o=0;o<n;++o)i.point((e=t[o])[0],e[1]);i.lineEnd();return}var s=new li(e,t,null,true),f=new li(e,null,s,false);s.o=f;u.push(s);a.push(f);s=new li(r,t,null,false);f=new li(r,null,s,true);s.o=f;u.push(s);a.push(f)});a.sort(n);fi(u);fi(a);if(!u.length)return;for(var o=0,s=e,f=a.length;o<f;++o){a[o].e=s=!s}var l=u[0],c,h;while(1){var g=l,p=true;while(g.v)if((g=g.n)===l)return;c=g.z;i.lineStart();do{g.v=g.o.v=true;if(g.e){if(p){for(var o=0,f=c.length;o<f;++o)i.point((h=c[o])[0],h[1])}else{r(g.x,g.n.x,1,i)}g=g.n}else{if(p){c=g.p.z;for(var o=c.length-1;o>=0;--o)i.point((h=c[o])[0],h[1])}else{r(g.x,g.p.x,-1,i)}g=g.p}g=g.o;c=g.z;p=!p}while(!g.v);i.lineEnd()}}function fi(t){if(!(n=t.length))return;var n,e=0,r=t[0],i;while(++e<n){r.n=i=t[e];i.p=r;r=i}r.n=i=t[0];i.p=r}function li(t,n,e,r){this.x=t;this.z=n;this.o=e;this.e=r;this.v=false;this.n=this.p=null}function ci(n,e,r,i){return function(u,a){var o=e(a),s=u.invert(i[0],i[1]);var f={point:l,lineStart:h,lineEnd:g,polygonStart:function(){f.point=M;f.lineStart=w;f.lineEnd=_;p=[];y=[]},polygonEnd:function(){f.point=l;f.lineStart=h;f.lineEnd=g;p=t.merge(p);var n=xi(s,y);if(p.length){if(!m)a.polygonStart(),m=true;si(p,pi,n,r,a)}else if(n){if(!m)a.polygonStart(),m=true;a.lineStart();r(null,null,1,a);a.lineEnd()}if(m)a.polygonEnd(),m=false;p=y=null},sphere:function(){a.polygonStart();a.lineStart();r(null,null,1,a);a.lineEnd();a.polygonEnd()}};function l(t,e){var r=u(t,e);if(n(t=r[0],e=r[1]))a.point(t,e)}function c(t,n){var e=u(t,n);o.point(e[0],e[1])}function h(){f.point=c;o.lineStart()}function g(){f.point=l;o.lineEnd()}var p;var v=gi(),d=e(v),m=false,y,x;function M(t,n){x.push([t,n]);var e=u(t,n);d.point(e[0],e[1])}function w(){d.lineStart();x=[]}function _(){M(x[0][0],x[0][1]);d.lineEnd();var t=d.clean(),n=v.buffer(),e,r=n.length;x.pop();y.push(x);x=null;if(!r)return;if(t&1){e=n[0];var r=e.length-1,i=-1,u;if(r>0){if(!m)a.polygonStart(),m=true;a.lineStart();while(++i<r)a.point((u=e[i])[0],u[1]);a.lineEnd()}return}if(r>1&&t&2)n.push(n.pop().concat(n.shift()));p.push(n.filter(hi))}return f}}function hi(t){return t.length>1}function gi(){var t=[],n;return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:O,buffer:function(){var e=t;t=[];n=null;return e},rejoin:function(){if(t.length>1)t.push(t.pop().concat(t.shift()))}}}function pi(t,n){return((t=t.x)[0]<0?t[1]-Tn-An:Tn-t[1])-((n=n.x)[0]<0?n[1]-Tn-An:Tn-n[1])}var vi=ci(oi,di,yi,[-Cn,-Cn/2]);function di(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart();i=1},point:function(u,a){var o=u>0?Cn:-Cn,s=M(u-n);if(M(s-Cn)<An){t.point(n,e=(e+a)/2>0?Tn:-Tn);t.point(r,e);t.lineEnd();t.lineStart();t.point(o,e);t.point(u,e);i=0}else if(r!==o&&s>=Cn){if(M(n-r)<An)n-=r*An;if(M(u-o)<An)u-=o*An;e=mi(n,e,u,a);t.point(r,e);t.lineEnd();t.lineStart();t.point(o,e);i=0}t.point(n=u,e=a);r=o},lineEnd:function(){t.lineEnd();n=e=NaN},clean:function(){return 2-i}}}function mi(t,n,e,r){var i,u,a=Math.sin(t-e);return M(a)>An?Math.atan((Math.sin(n)*(u=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*u*a)):(n+r)/2}function yi(t,n,e,r){var i;if(t==null){i=e*Tn;r.point(-Cn,i);r.point(0,i);r.point(Cn,i);r.point(Cn,0);r.point(Cn,-i);r.point(0,-i);r.point(-Cn,-i);r.point(-Cn,0);r.point(-Cn,i)}else if(M(t[0]-n[0])>An){var u=t[0]<n[0]?Cn:-Cn;i=e*u/2;r.point(-u,i);r.point(0,i);r.point(u,i)}else{r.point(n[0],n[1])}}function xi(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],u=0,a=0;Lr.reset();for(var o=0,s=n.length;o<s;++o){var f=n[o],l=f.length;if(!l)continue;var c=f[0],h=c[0],g=c[1]/2+Cn/4,p=Math.sin(g),v=Math.cos(g),d=1;while(true){if(d===l)d=0;t=f[d];var m=t[0],y=t[1]/2+Cn/4,x=Math.sin(y),M=Math.cos(y),w=m-h,_=w>=0?1:-1,b=_*w,k=b>Cn,S=p*x;Lr.add(Math.atan2(S*_*Math.sin(b),v*M+S*Math.cos(b)));u+=k?w+_*zn:w;if(k^h>=e^m>=e){var N=Ir(Dr(c),Dr(t));Fr(N);var E=Ir(i,N);Fr(E);var A=(k^w>=0?-1:1)*Pn(E[2]);if(r>A||r===A&&(N[0]||N[1])){a+=k^w>=0?1:-1}}if(!d++)break;h=m,p=x,v=M,c=t}}return(u<-An||u<An&&Lr<0)^a&1}function Mi(t){var n=Math.cos(t),e=n>0,r=M(n)>An,i=ru(t,6*Rn);return ci(u,a,i,e?[0,-t]:[-Cn,t-Cn]);function u(t,e){return Math.cos(t)*Math.cos(e)>n}function a(t){var n,i,a,f,l;return{lineStart:function(){f=a=false;l=1},point:function(c,h){var g=[c,h],p,v=u(c,h),d=e?v?0:s(c,h):v?s(c+(c<0?Cn:-Cn),h):0;if(!n&&(f=a=v))t.lineStart();if(v!==a){p=o(n,g);if(Hr(n,p)||Hr(g,p)){g[0]+=An;g[1]+=An;v=u(g[0],g[1])}}if(v!==a){l=0;if(v){t.lineStart();p=o(g,n);t.point(p[0],p[1])}else{p=o(n,g);t.point(p[0],p[1]);t.lineEnd()}n=p}else if(r&&n&&e^v){var m;if(!(d&i)&&(m=o(g,n,true))){l=0;if(e){t.lineStart();t.point(m[0][0],m[0][1]);t.point(m[1][0],m[1][1]);t.lineEnd()}else{t.point(m[1][0],m[1][1]);t.lineEnd();t.lineStart();t.point(m[0][0],m[0][1])}}}if(v&&(!n||!Hr(n,g))){t.point(g[0],g[1])}n=g,a=v,i=d},lineEnd:function(){if(a)t.lineEnd();n=null},clean:function(){return l|(f&&a)<<1}}}function o(t,e,r){var i=Dr(t),u=Dr(e);var a=[1,0,0],o=Ir(i,u),s=jr(o,o),f=o[0],l=s-f*f;if(!l)return!r&&t;var c=n*s/l,h=-n*f/l,g=Ir(a,o),p=Pr(a,c),v=Pr(o,h);Or(p,v);var d=g,m=jr(p,d),y=jr(d,d),x=m*m-y*(jr(p,p)-1);if(x<0)return;var w=Math.sqrt(x),_=Pr(d,(-m-w)/y);Or(_,p);_=Ur(_);if(!r)return _;var b=t[0],k=e[0],S=t[1],N=e[1],E;if(k<b)E=b,b=k,k=E;var A=k-b,q=M(A-Cn)<An,C=q||A<An;if(!q&&N<S)E=S,S=N,N=E;if(C?q?S+N>0^_[1]<(M(_[0]-b)<An?S:N):S<=_[1]&&_[1]<=N:A>Cn^(b<=_[0]&&_[0]<=k)){var z=Pr(d,(-m+w)/y);Or(z,p);return[_,Ur(z)]}}function s(n,r){var i=e?t:Cn-t,u=0;if(n<-i)u|=1;else if(n>i)u|=2;if(r<-i)u|=4;else if(r>i)u|=8;return u}}function wi(t,n,e,r){return function(i){var u=i.a,a=i.b,o=u.x,s=u.y,f=a.x,l=a.y,c=0,h=1,g=f-o,p=l-s,v;v=t-o;if(!g&&v>0)return;v/=g;if(g<0){if(v<c)return;if(v<h)h=v}else if(g>0){if(v>h)return;if(v>c)c=v}v=e-o;if(!g&&v<0)return;v/=g;if(g<0){if(v>h)return;if(v>c)c=v}else if(g>0){if(v<c)return;if(v<h)h=v}v=n-s;if(!p&&v>0)return;v/=p;if(p<0){if(v<c)return;if(v<h)h=v}else if(p>0){if(v>h)return;if(v>c)c=v}v=r-s;if(!p&&v<0)return;v/=p;if(p<0){if(v>h)return;if(v>c)c=v}else if(p>0){if(v<c)return;if(v<h)h=v}if(c>0)i.a={x:o+c*g,y:s+c*p};if(h<1)i.b={x:o+h*g,y:s+h*p};return i}}var _i=1e9;t.geo.clipExtent=function(){var t,n,e,r,i,u,a={stream:function(t){if(i)i.valid=false;i=u(t);i.valid=true;return i},extent:function(o){if(!arguments.length)return[[t,n],[e,r]];u=bi(t=+o[0][0],n=+o[0][1],e=+o[1][0],r=+o[1][1]);if(i)i.valid=false,i=null;return a}};return a.extent([[0,0],[960,500]])};function bi(n,e,r,i){return function(s){var f=s,l=gi(),c=wi(n,e,r,i),h,g,p;var v={point:x,lineStart:A,lineEnd:q,polygonStart:function(){s=l;h=[];g=[];E=true},polygonEnd:function(){s=f;h=t.merge(h);var e=d([n,i]),r=E&&e,u=h.length;if(r||u){s.polygonStart();if(r){s.lineStart();m(null,null,1,s);s.lineEnd()}if(u){si(h,a,e,m,s)}s.polygonEnd()}h=g=p=null}};function d(t){var n=0,e=g.length,r=t[1];for(var i=0;i<e;++i){for(var u=1,a=g[i],o=a.length,s=a[0],f;u<o;++u){f=a[u];if(s[1]<=r){if(f[1]>r&&In(s,f,t)>0)++n}else{if(f[1]<=r&&In(s,f,t)<0)--n}s=f}}return n!==0}function m(t,a,s,f){var l=0,c=0;if(t==null||(l=u(t,s))!==(c=u(a,s))||o(t,a)<0^s>0){do{f.point(l===0||l===3?n:r,l>1?i:e)}while((l=(l+s+4)%4)!==c)}else{f.point(a[0],a[1])}}function y(t,u){return n<=t&&t<=r&&e<=u&&u<=i}function x(t,n){if(y(t,n))s.point(t,n)}var M,w,_,b,k,S,N,E;function A(){v.point=C;if(g)g.push(p=[]);N=true;S=false;b=k=NaN}function q(){if(h){C(M,w);if(_&&S)l.rejoin();h.push(l.buffer())}v.point=x;if(S)s.lineEnd()}function C(t,n){t=Math.max(-_i,Math.min(_i,t));n=Math.max(-_i,Math.min(_i,n));var e=y(t,n);if(g)p.push([t,n]);if(N){M=t,w=n,_=e;N=false;if(e){s.lineStart();s.point(t,n)}}else{if(e&&S)s.point(t,n);else{var r={a:{x:b,y:k},b:{x:t,y:n}};if(c(r)){if(!S){s.lineStart();s.point(r.a.x,r.a.y)}s.point(r.b.x,r.b.y);if(!e)s.lineEnd();E=false}else if(e){s.lineStart();s.point(t,n);E=false}}}b=t,k=n,S=e}return v};function u(t,i){return M(t[0]-n)<An?i>0?0:3:M(t[0]-r)<An?i>0?2:1:M(t[1]-e)<An?i>0?1:0:i>0?3:2}function a(t,n){return o(t.x,n.x)}function o(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:e===0?n[1]-t[1]:e===1?t[0]-n[0]:e===2?t[1]-n[1]:n[0]-t[0]}}function ki(t){var n=0,e=Cn/3,r=Ji(t),i=r(n,e);i.parallels=function(t){if(!arguments.length)return[n/Cn*180,e/Cn*180];return r(n=t[0]*Cn/180,e=t[1]*Cn/180)};return i}function Si(t,n){var e=Math.sin(t),r=(e+Math.sin(n))/2,i=1+e*(2*r-e),u=Math.sqrt(i)/r;function a(t,n){var e=Math.sqrt(i-2*r*Math.sin(n))/r;return[e*Math.sin(t*=r),u-e*Math.cos(t)]}a.invert=function(t,n){var e=u-n;return[Math.atan2(t,e)/r,Pn((i-(t*t+e*e)*r*r)/(2*r))]};return a}(t.geo.conicEqualArea=function(){return ki(Si)}).raw=Si;t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};t.geo.albersUsa=function(){var n=t.geo.albers();var e=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var r=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var i,u={point:function(t,n){i=[t,n]}},a,o,s;function f(t){var n=t[0],e=t[1];i=null;(a(n,e),i)||(o(n,e),i)||s(n,e);return i}f.invert=function(t){var i=n.scale(),u=n.translate(),a=(t[0]-u[0])/i,o=(t[1]-u[1])/i;return(o>=.12&&o<.234&&a>=-.425&&a<-.214?e:o>=.166&&o<.234&&a>=-.214&&a<-.115?r:n).invert(t)};f.stream=function(t){var i=n.stream(t),u=e.stream(t),a=r.stream(t);return{point:function(t,n){i.point(t,n);u.point(t,n);a.point(t,n)},sphere:function(){i.sphere();u.sphere();a.sphere()},lineStart:function(){i.lineStart();u.lineStart();a.lineStart()},lineEnd:function(){i.lineEnd();u.lineEnd();a.lineEnd()},polygonStart:function(){i.polygonStart();u.polygonStart();a.polygonStart()},polygonEnd:function(){i.polygonEnd();u.polygonEnd();a.polygonEnd()}}};f.precision=function(t){if(!arguments.length)return n.precision();n.precision(t);e.precision(t);r.precision(t);return f};f.scale=function(t){if(!arguments.length)return n.scale();n.scale(t);e.scale(t*.35);r.scale(t);return f.translate(n.translate())};f.translate=function(t){if(!arguments.length)return n.translate();var i=n.scale(),l=+t[0],c=+t[1];a=n.translate(t).clipExtent([[l-.455*i,c-.238*i],[l+.455*i,c+.238*i]]).stream(u).point;o=e.translate([l-.307*i,c+.201*i]).clipExtent([[l-.425*i+An,c+.12*i+An],[l-.214*i-An,c+.234*i-An]]).stream(u).point;s=r.translate([l-.205*i,c+.212*i]).clipExtent([[l-.214*i+An,c+.166*i+An],[l-.115*i-An,c+.234*i-An]]).stream(u).point;return f};return f.scale(1070)};var Ni,Ei,Ai={point:O,lineStart:O,lineEnd:O,polygonStart:function(){Ei=0;Ai.lineStart=qi},polygonEnd:function(){Ai.lineStart=Ai.lineEnd=Ai.point=O;Ni+=M(Ei/2)}};function qi(){var t,n,e,r;Ai.point=function(u,a){Ai.point=i;t=e=u,n=r=a};function i(t,n){Ei+=r*t-e*n;e=t,r=n}Ai.lineEnd=function(){i(t,n)}}var Ci,zi,Li,Ti;var Ri={point:Di,lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O};function Di(t,n){if(t<Ci)Ci=t;if(t>Li)Li=t;if(n<zi)zi=n;if(n>Ti)Ti=n}function ji(){var t=Ii(4.5),n=[];var e={point:r,lineStart:function(){e.point=i},lineEnd:a,polygonStart:function(){e.lineEnd=o},polygonEnd:function(){e.lineEnd=a;e.point=r},pointRadius:function(n){t=Ii(n);return e},result:function(){if(n.length){var t=n.join("");n=[];return t}}};function r(e,r){n.push("M",e,",",r,t)}function i(t,r){n.push("M",t,",",r);e.point=u}function u(t,e){n.push("L",t,",",e)}function a(){e.point=r}function o(){n.push("Z")}return e}function Ii(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Oi={point:Pi,lineStart:Fi,lineEnd:Ui,polygonStart:function(){Oi.lineStart=Hi},polygonEnd:function(){Oi.point=Pi;Oi.lineStart=Fi;Oi.lineEnd=Ui}};function Pi(t,n){Zr+=t;Br+=n;++Xr}function Fi(){var t,n;Oi.point=function(r,i){Oi.point=e;Pi(t=r,n=i)};function e(e,r){var i=e-t,u=r-n,a=Math.sqrt(i*i+u*u);$r+=a*(t+e)/2;Jr+=a*(n+r)/2;Wr+=a;Pi(t=e,n=r)}}function Ui(){Oi.point=Pi}function Hi(){var t,n,e,r;Oi.point=function(u,a){Oi.point=i;Pi(t=e=u,n=r=a)};function i(t,n){var i=t-e,u=n-r,a=Math.sqrt(i*i+u*u);$r+=a*(e+t)/2;Jr+=a*(r+n)/2;Wr+=a;a=r*t-e*n;Gr+=a*(e+t);Qr+=a*(r+n);Kr+=a*3;Pi(e=t,r=n)}Oi.lineEnd=function(){i(t,n)}}function Yi(t){var n=4.5;var e={point:r,lineStart:function(){e.point=i},lineEnd:a,polygonStart:function(){e.lineEnd=o},polygonEnd:function(){e.lineEnd=a;e.point=r},pointRadius:function(t){n=t;return e},result:O};function r(e,r){t.moveTo(e+n,r);t.arc(e,r,n,0,zn)}function i(n,r){t.moveTo(n,r);e.point=u}function u(n,e){t.lineTo(n,e)}function a(){e.point=r}function o(){t.closePath()}return e}function Vi(t){var n=.5,e=Math.cos(30*Rn),r=16;function i(t){return(r?a:u)(t)}function u(n){return Xi(n,function(e,r){e=t(e,r);n.point(e[0],e[1])})}function a(n){var e,i,u,a,s,f,l,c,h,g,p,v,d;var m={point:y,lineStart:x,lineEnd:w,polygonStart:function(){n.polygonStart();m.lineStart=_},polygonEnd:function(){n.polygonEnd();m.lineStart=x}};function y(e,r){e=t(e,r);n.point(e[0],e[1])}function x(){h=NaN;m.point=M;n.lineStart()}function M(e,i){var u=Dr([e,i]),a=t(e,i);o(h,g,c,p,v,d,h=a[0],g=a[1],c=e,p=u[0],v=u[1],d=u[2],r,n);n.point(h,g)}function w(){m.point=y;n.lineEnd()}function _(){x();m.point=b;m.lineEnd=k}function b(t,n){M(e=t,i=n),u=h,a=g,s=p,f=v,l=d;m.point=M}function k(){o(h,g,c,p,v,d,u,a,e,s,f,l,r,n);m.lineEnd=w;w()}return m}function o(r,i,u,a,s,f,l,c,h,g,p,v,d,m){var y=l-r,x=c-i,w=y*y+x*x;if(w>4*n&&d--){var _=a+g,b=s+p,k=f+v,S=Math.sqrt(_*_+b*b+k*k),N=Math.asin(k/=S),E=M(M(k)-1)<An||M(u-h)<An?(u+h)/2:Math.atan2(b,_),A=t(E,N),q=A[0],C=A[1],z=q-r,L=C-i,T=x*z-y*L;if(T*T/w>n||M((y*z+x*L)/w-.5)>.3||a*g+s*p+f*v<e){o(r,i,u,a,s,f,q,C,E,_/=S,b/=S,k,d,m);m.point(q,C);o(q,C,E,_,b,k,l,c,h,g,p,v,d,m)}}}i.precision=function(t){if(!arguments.length)return Math.sqrt(n);r=(n=t*t)>0&&16;return i};return i}t.geo.path=function(){var n=4.5,e,r,i,u,a;function o(e){if(e){if(typeof n==="function")u.pointRadius(+n.apply(this,arguments));if(!a||!a.valid)a=i(u);t.geo.stream(e,a)}return u.result()}o.area=function(n){Ni=0;t.geo.stream(n,i(Ai));return Ni};o.centroid=function(n){Zr=Br=Xr=$r=Jr=Wr=Gr=Qr=Kr=0;t.geo.stream(n,i(Oi));return Kr?[Gr/Kr,Qr/Kr]:Wr?[$r/Wr,Jr/Wr]:Xr?[Zr/Xr,Br/Xr]:[NaN,NaN]};o.bounds=function(n){Li=Ti=-(Ci=zi=Infinity);t.geo.stream(n,i(Ri));return[[Ci,zi],[Li,Ti]]};o.projection=function(t){if(!arguments.length)return e;i=(e=t)?t.stream||Zi(t):R;return s()};o.context=function(t){if(!arguments.length)return r;u=(r=t)==null?new ji:new Yi(t);if(typeof n!=="function")u.pointRadius(n);return s()};o.pointRadius=function(t){if(!arguments.length)return n;n=typeof t==="function"?t:(u.pointRadius(+t),+t);return o};function s(){a=null;return o}return o.projection(t.geo.albersUsa()).context(null)};function Zi(t){var n=Vi(function(n,e){return t([n*Dn,e*Dn])});return function(t){return Wi(n(t))}}t.geo.transform=function(t){return{stream:function(n){var e=new Bi(n);for(var r in t)e[r]=t[r];return e}}};function Bi(t){this.stream=t}Bi.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Xi(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}t.geo.projection=$i;t.geo.projectionMutator=Ji;function $i(t){return Ji(function(){return t})()}function Ji(n){var e,r,i,u=Vi(function(t,n){t=e(t,n);return[t[0]*a+p,v-t[1]*a]}),a=150,o=480,s=250,f=0,l=0,c=0,h=0,g=0,p,v,d=vi,m=R,y=null,x=null,M;function w(t){t=i(t[0]*Rn,t[1]*Rn);return[t[0]*a+p,v-t[1]*a]}function _(t){t=i.invert((t[0]-p)/a,(v-t[1])/a);return t&&[t[0]*Dn,t[1]*Dn]}w.stream=function(t){if(M)M.valid=false;M=Wi(d(r,u(m(t))));M.valid=true;return M};w.clipAngle=function(t){if(!arguments.length)return y;d=t==null?(y=t,vi):Mi((y=+t)*Rn);return k()};w.clipExtent=function(t){if(!arguments.length)return x;x=t;m=t?bi(t[0][0],t[0][1],t[1][0],t[1][1]):R;return k()};w.scale=function(t){if(!arguments.length)return a;a=+t;return b()};w.translate=function(t){if(!arguments.length)return[o,s];o=+t[0];s=+t[1];return b()};w.center=function(t){if(!arguments.length)return[f*Dn,l*Dn];f=t[0]%360*Rn;l=t[1]%360*Rn;return b()};w.rotate=function(t){if(!arguments.length)return[c*Dn,h*Dn,g*Dn];c=t[0]%360*Rn;h=t[1]%360*Rn;g=t.length>2?t[2]%360*Rn:0;return b()};t.rebind(w,u,"precision");function b(){i=ai(r=Ki(c,h,g),e);var t=e(f,l);p=o-t[0]*a;v=s+t[1]*a;return k()}function k(){if(M)M.valid=false,M=null;return w}return function(){e=n.apply(this,arguments);w.invert=e.invert&&_;return b()}}function Wi(t){return Xi(t,function(n,e){t.point(n*Rn,e*Rn)})}function Gi(t,n){return[t,n]}(t.geo.equirectangular=function(){return $i(Gi)}).raw=Gi.invert=Gi;t.geo.rotation=function(t){t=Ki(t[0]%360*Rn,t[1]*Rn,t.length>2?t[2]*Rn:0);function n(n){n=t(n[0]*Rn,n[1]*Rn);return n[0]*=Dn,n[1]*=Dn,n}n.invert=function(n){n=t.invert(n[0]*Rn,n[1]*Rn);return n[0]*=Dn,n[1]*=Dn,n};return n};function Qi(t,n){return[t>Cn?t-zn:t<-Cn?t+zn:t,n]}Qi.invert=Gi;function Ki(t,n,e){return t?n||e?ai(nu(t),eu(n,e)):nu(t):n||e?eu(n,e):Qi}function tu(t){return function(n,e){return n+=t,[n>Cn?n-zn:n<-Cn?n+zn:n,e]}}function nu(t){var n=tu(t);n.invert=tu(-t);return n}function eu(t,n){var e=Math.cos(t),r=Math.sin(t),i=Math.cos(n),u=Math.sin(n);function a(t,n){var a=Math.cos(n),o=Math.cos(t)*a,s=Math.sin(t)*a,f=Math.sin(n),l=f*e+o*r;return[Math.atan2(s*i-l*u,o*e-f*r),Pn(l*i+s*u)]}a.invert=function(t,n){var a=Math.cos(n),o=Math.cos(t)*a,s=Math.sin(t)*a,f=Math.sin(n),l=f*i-s*u;return[Math.atan2(s*i+f*u,o*e+l*r),Pn(l*e-o*r)]};return a}t.geo.circle=function(){var t=[0,0],n,e=6,r;function i(){var n=typeof t==="function"?t.apply(this,arguments):t,e=Ki(-n[0]*Rn,-n[1]*Rn,0).invert,i=[];r(null,null,1,{point:function(t,n){i.push(t=e(t,n));t[0]*=Dn,t[1]*=Dn}});return{type:"Polygon",coordinates:[i]}}i.origin=function(n){if(!arguments.length)return t;t=n;return i};i.angle=function(t){if(!arguments.length)return n;r=ru((n=+t)*Rn,e*Rn);return i};i.precision=function(t){if(!arguments.length)return e;r=ru(n*Rn,(e=+t)*Rn);return i};return i.angle(90)};function ru(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,u,a,o){var s=a*n;if(i!=null){i=iu(e,i);u=iu(e,u);if(a>0?i<u:i>u)i+=a*zn}else{i=t+a*zn;u=t-.5*s}for(var f,l=i;a>0?l>u:l<u;l-=s){o.point((f=Ur([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],f[1])}}}function iu(t,n){var e=Dr(n);e[0]-=t;Fr(e);var r=On(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-An)%(2*Math.PI)}t.geo.distance=function(t,n){var e=(n[0]-t[0])*Rn,r=t[1]*Rn,i=n[1]*Rn,u=Math.sin(e),a=Math.cos(e),o=Math.sin(r),s=Math.cos(r),f=Math.sin(i),l=Math.cos(i),c;return Math.atan2(Math.sqrt((c=l*u)*c+(c=s*f-o*l*a)*c),o*f+s*l*a)};t.geo.graticule=function(){var n,e,r,i,u,a,o,s,f=10,l=f,c=90,h=360,g,p,v,d,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return t.range(Math.ceil(i/c)*c,r,c).map(v).concat(t.range(Math.ceil(s/h)*h,o,h).map(d)).concat(t.range(Math.ceil(e/f)*f,n,f).filter(function(t){return M(t%c)>An}).map(g)).concat(t.range(Math.ceil(a/l)*l,u,l).filter(function(t){return M(t%h)>An}).map(p))}y.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})};y.outline=function(){return{type:"Polygon",coordinates:[v(i).concat(d(o).slice(1),v(r).reverse().slice(1),d(s).reverse().slice(1))]}};y.extent=function(t){if(!arguments.length)return y.minorExtent();return y.majorExtent(t).minorExtent(t)};y.majorExtent=function(t){if(!arguments.length)return[[i,s],[r,o]];i=+t[0][0],r=+t[1][0];s=+t[0][1],o=+t[1][1];if(i>r)t=i,i=r,r=t;if(s>o)t=s,s=o,o=t;return y.precision(m)};y.minorExtent=function(t){if(!arguments.length)return[[e,a],[n,u]];e=+t[0][0],n=+t[1][0];a=+t[0][1],u=+t[1][1];if(e>n)t=e,e=n,n=t;if(a>u)t=a,a=u,u=t;return y.precision(m)};y.step=function(t){if(!arguments.length)return y.minorStep();return y.majorStep(t).minorStep(t)};y.majorStep=function(t){if(!arguments.length)return[c,h];c=+t[0],h=+t[1];return y};y.minorStep=function(t){if(!arguments.length)return[f,l];f=+t[0],l=+t[1];return y};y.precision=function(t){if(!arguments.length)return m;m=+t;g=uu(a,u,90);p=au(e,n,m);v=uu(s,o,90);d=au(i,r,m);return y};return y.majorExtent([[-180,-90+An],[180,90-An]]).minorExtent([[-180,-80-An],[180,80+An]])};function uu(n,e,r){var i=t.range(n,e-An,r).concat(e);return function(t){return i.map(function(n){return[t,n]})}}function au(n,e,r){var i=t.range(n,e-An,r).concat(e);return function(t){return i.map(function(n){return[n,t]})}}function ou(t){return t.source}function su(t){return t.target}t.geo.greatArc=function(){var n=ou,e,r=su,i;function u(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||r.apply(this,arguments)]}}u.distance=function(){return t.geo.distance(e||n.apply(this,arguments),i||r.apply(this,arguments))};u.source=function(t){if(!arguments.length)return n;n=t,e=typeof t==="function"?null:t;return u};u.target=function(t){if(!arguments.length)return r;r=t,i=typeof t==="function"?null:t;return u};u.precision=function(){return arguments.length?u:0};return u};t.geo.interpolate=function(t,n){return fu(t[0]*Rn,t[1]*Rn,n[0]*Rn,n[1]*Rn)};function fu(t,n,e,r){var i=Math.cos(n),u=Math.sin(n),a=Math.cos(r),o=Math.sin(r),s=i*Math.cos(t),f=i*Math.sin(t),l=a*Math.cos(e),c=a*Math.sin(e),h=2*Math.asin(Math.sqrt(Yn(r-n)+i*a*Yn(e-t))),g=1/Math.sin(h);var p=h?function(t){var n=Math.sin(t*=h)*g,e=Math.sin(h-t)*g,r=e*s+n*l,i=e*f+n*c,a=e*u+n*o;return[Math.atan2(i,r)*Dn,Math.atan2(a,Math.sqrt(r*r+i*i))*Dn]}:function(){return[t*Dn,n*Dn]};p.distance=h;return p}t.geo.length=function(n){lu=0;t.geo.stream(n,cu);return lu};var lu;var cu={sphere:O,point:O,lineStart:hu,lineEnd:O,polygonStart:O,polygonEnd:O};function hu(){var t,n,e;cu.point=function(i,u){t=i*Rn,n=Math.sin(u*=Rn),e=Math.cos(u);cu.point=r};cu.lineEnd=function(){cu.point=cu.lineEnd=O};function r(r,i){var u=Math.sin(i*=Rn),a=Math.cos(i),o=M((r*=Rn)-t),s=Math.cos(o);lu+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=e*u-n*a*s)*o),n*u+e*a*s);t=r,n=u,e=a}}function gu(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),u=t(r*i);return[u*i*Math.sin(n),u*Math.sin(e)]}e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),u=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*u,r*a),Math.asin(r&&e*u/r)]};return e}var pu=gu(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(t.geo.azimuthalEqualArea=function(){return $i(pu)}).raw=pu;var vu=gu(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},R);(t.geo.azimuthalEquidistant=function(){return $i(vu)}).raw=vu;function du(t,n){var e=Math.cos(t),r=function(t){return Math.tan(Cn/4+t/2)},i=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(r(n)/r(t)),u=e*Math.pow(r(t),i)/i;if(!i)return xu;function a(t,n){if(u>0){if(n<-Tn+An)n=-Tn+An}else{if(n>Tn-An)n=Tn-An}var e=u/Math.pow(r(n),i);return[e*Math.sin(i*t),u-e*Math.cos(i*t)]}a.invert=function(t,n){var e=u-n,r=jn(i)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/i,2*Math.atan(Math.pow(u/r,1/i))-Tn]};return a}(t.geo.conicConformal=function(){return ki(du)}).raw=du;function mu(t,n){var e=Math.cos(t),r=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),i=e/r+t;if(M(r)<An)return Gi;function u(t,n){var e=i-n;return[e*Math.sin(r*t),i-e*Math.cos(r*t)]}u.invert=function(t,n){var e=i-n;return[Math.atan2(t,e)/r,i-jn(r)*Math.sqrt(t*t+e*e)]};return u}(t.geo.conicEquidistant=function(){return ki(mu)}).raw=mu;var yu=gu(function(t){return 1/t},Math.atan);(t.geo.gnomonic=function(){return $i(yu)}).raw=yu;function xu(t,n){return[t,Math.log(Math.tan(Cn/4+n/2))]}xu.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Tn]};function Mu(t){var n=$i(t),e=n.scale,r=n.translate,i=n.clipExtent,u;n.scale=function(){var t=e.apply(n,arguments);return t===n?u?n.clipExtent(null):n:t};n.translate=function(){var t=r.apply(n,arguments);return t===n?u?n.clipExtent(null):n:t};n.clipExtent=function(t){var a=i.apply(n,arguments);if(a===n){if(u=t==null){var o=Cn*e(),s=r();i([[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]])}}else if(u){a=null}return a};return n.clipExtent(null)}(t.geo.mercator=function(){return Mu(xu)}).raw=xu;var wu=gu(function(){return 1},Math.asin);(t.geo.orthographic=function(){return $i(wu)}).raw=wu;var _u=gu(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(t.geo.stereographic=function(){return $i(_u)}).raw=_u;function bu(t,n){return[Math.log(Math.tan(Cn/4+n/2)),-t]}bu.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Tn]};(t.geo.transverseMercator=function(){var t=Mu(bu),n=t.center,e=t.rotate;t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])};t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])};return e([0,0,90])}).raw=bu;t.geom={};function ku(t){return t[0]}function Su(t){return t[1]}t.geom.hull=function(t){var n=ku,e=Su;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r=Se(n),i=Se(e),u,a=t.length,o=[],s=[];for(u=0;u<a;u++){o.push([+r.call(this,t[u],u),+i.call(this,t[u],u),u])}o.sort(Eu);for(u=0;u<a;u++)s.push([o[u][0],-o[u][1]]);var f=Nu(o),l=Nu(s);var c=l[0]===f[0],h=l[l.length-1]===f[f.length-1],g=[];for(u=f.length-1;u>=0;--u)g.push(t[o[f[u]][2]]);for(u=+c;u<l.length-h;++u)g.push(t[o[l[u]][2]]);return g}r.x=function(t){return arguments.length?(n=t,r):n};r.y=function(t){return arguments.length?(e=t,r):e};return r};function Nu(t){var n=t.length,e=[0,1],r=2;for(var i=2;i<n;i++){while(r>1&&In(t[e[r-2]],t[e[r-1]],t[i])<=0)--r;e[r++]=i}return e.slice(0,r)}function Eu(t,n){return t[0]-n[0]||t[1]-n[1]}t.geom.polygon=function(t){Z(t,Au);return t};var Au=t.geom.polygon.prototype=[];Au.area=function(){var t=-1,n=this.length,e,r=this[n-1],i=0;while(++t<n){e=r;r=this[t];i+=e[1]*r[0]-e[0]*r[1]}return i*.5};Au.centroid=function(t){var n=-1,e=this.length,r=0,i=0,u,a=this[e-1],o;if(!arguments.length)t=-1/(6*this.area());while(++n<e){u=a;a=this[n];o=u[0]*a[1]-a[0]*u[1];r+=(u[0]+a[0])*o;i+=(u[1]+a[1])*o}return[r*t,i*t]};Au.clip=function(t){var n,e=zu(t),r=-1,i=this.length-zu(this),u,a,o=this[i-1],s,f,l;while(++r<i){n=t.slice();t.length=0;s=this[r];f=n[(a=n.length-e)-1];u=-1;while(++u<a){l=n[u];if(qu(l,o,s)){if(!qu(f,o,s)){t.push(Cu(f,l,o,s))}t.push(l)}else if(qu(f,o,s)){t.push(Cu(f,l,o,s))}f=l}if(e)t.push(t[0]);o=s}return t};function qu(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Cu(t,n,e,r){var i=t[0],u=e[0],a=n[0]-i,o=r[0]-u,s=t[1],f=e[1],l=n[1]-s,c=r[1]-f,h=(o*(s-f)-c*(i-u))/(c*a-o*l);return[i+h*a,s+h*l]}function zu(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}var Lu,Tu,Ru,Du=[],ju,Iu,Ou=[];function Pu(){aa(this);this.edge=this.site=this.circle=null}function Fu(t){var n=Du.pop()||new Pu;n.site=t;return n}function Uu(t){Gu(t);Ru.remove(t);Du.push(t);aa(t)}function Hu(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},u=t.P,a=t.N,o=[t];Uu(t);var s=u;while(s.circle&&M(e-s.circle.x)<An&&M(r-s.circle.cy)<An){u=s.P;o.unshift(s);Uu(s);s=u}o.unshift(s);Gu(s);var f=a;while(f.circle&&M(e-f.circle.x)<An&&M(r-f.circle.cy)<An){a=f.N;o.push(f);Uu(f);f=a}o.push(f);Gu(f);var l=o.length,c;for(c=1;c<l;++c){f=o[c];s=o[c-1];ra(f.edge,s.site,f.site,i)}s=o[0];f=o[l-1];f.edge=na(s.site,f.site,null,i);Wu(s);Wu(f)}function Yu(t){var n=t.x,e=t.y,r,i,u,a,o=Ru._;while(o){u=Vu(o,e)-n;if(u>An)o=o.L;else{a=n-Zu(o,e);if(a>An){if(!o.R){r=o;break}o=o.R}else{if(u>-An){r=o.P;i=o}else if(a>-An){r=o;i=o.N}else{r=i=o}break}}}var s=Fu(t);Ru.insert(r,s);if(!r&&!i)return;if(r===i){Gu(r);i=Fu(r.site);Ru.insert(s,i);s.edge=i.edge=na(r.site,s.site);Wu(r);Wu(i);return}if(!i){s.edge=na(r.site,s.site);return}Gu(r);Gu(i);var f=r.site,l=f.x,c=f.y,h=t.x-l,g=t.y-c,p=i.site,v=p.x-l,d=p.y-c,m=2*(h*d-g*v),y=h*h+g*g,x=v*v+d*d,M={x:(d*y-g*x)/m+l,y:(h*x-v*y)/m+c};ra(i.edge,f,p,M);s.edge=na(f,t,null,M);i.edge=na(t,p,null,M);Wu(r);Wu(i)}function Vu(t,n){var e=t.site,r=e.x,i=e.y,u=i-n;if(!u)return r;var a=t.P;if(!a)return-Infinity;e=a.site;
var o=e.x,s=e.y,f=s-n;if(!f)return o;var l=o-r,c=1/u-1/f,h=l/f;if(c)return(-h+Math.sqrt(h*h-2*c*(l*l/(-2*f)-s+f/2+i-u/2)))/c+r;return(r+o)/2}function Zu(t,n){var e=t.N;if(e)return Vu(e,n);var r=t.site;return r.y===n?r.x:Infinity}function Bu(t){this.site=t;this.edges=[]}Bu.prototype.prepare=function(){var t=this.edges,n=t.length,e;while(n--){e=t[n].edge;if(!e.b||!e.a)t.splice(n,1)}t.sort($u);return t.length};function Xu(t){var n=t[0][0],e=t[1][0],r=t[0][1],i=t[1][1],u,a,o,s,f=Tu,l=f.length,c,h,g,p,v,d;while(l--){c=f[l];if(!c||!c.prepare())continue;g=c.edges;p=g.length;h=0;while(h<p){d=g[h].end(),o=d.x,s=d.y;v=g[++h%p].start(),u=v.x,a=v.y;if(M(o-u)>An||M(s-a)>An){g.splice(h,0,new ia(ea(c.site,d,M(o-n)<An&&i-s>An?{x:n,y:M(u-n)<An?a:i}:M(s-i)<An&&e-o>An?{x:M(a-i)<An?u:e,y:i}:M(o-e)<An&&s-r>An?{x:e,y:M(u-e)<An?a:r}:M(s-r)<An&&o-n>An?{x:M(a-r)<An?u:n,y:r}:null),c.site,null));++p}}}}function $u(t,n){return n.angle-t.angle}function Ju(){aa(this);this.x=this.y=this.arc=this.site=this.cy=null}function Wu(t){var n=t.P,e=t.N;if(!n||!e)return;var r=n.site,i=t.site,u=e.site;if(r===u)return;var a=i.x,o=i.y,s=r.x-a,f=r.y-o,l=u.x-a,c=u.y-o;var h=2*(s*c-f*l);if(h>=-qn)return;var g=s*s+f*f,p=l*l+c*c,v=(c*g-f*p)/h,d=(s*p-l*g)/h,c=d+o;var m=Ou.pop()||new Ju;m.arc=t;m.site=i;m.x=v+a;m.y=c+Math.sqrt(v*v+d*d);m.cy=c;t.circle=m;var y=null,x=Iu._;while(x){if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(x.L)x=x.L;else{y=x.P;break}}else{if(x.R)x=x.R;else{y=x;break}}}Iu.insert(y,m);if(!y)ju=m}function Gu(t){var n=t.circle;if(n){if(!n.P)ju=n.N;Iu.remove(n);Ou.push(n);aa(n);t.circle=null}}function Qu(t){var n=Lu,e=wi(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length,i;while(r--){i=n[r];if(!Ku(i,t)||!e(i)||M(i.a.x-i.b.x)<An&&M(i.a.y-i.b.y)<An){i.a=i.b=null;n.splice(r,1)}}}function Ku(t,n){var e=t.b;if(e)return true;var r=t.a,i=n[0][0],u=n[1][0],a=n[0][1],o=n[1][1],s=t.l,f=t.r,l=s.x,c=s.y,h=f.x,g=f.y,p=(l+h)/2,v=(c+g)/2,d,m;if(g===c){if(p<i||p>=u)return;if(l>h){if(!r)r={x:p,y:a};else if(r.y>=o)return;e={x:p,y:o}}else{if(!r)r={x:p,y:o};else if(r.y<a)return;e={x:p,y:a}}}else{d=(l-h)/(g-c);m=v-d*p;if(d<-1||d>1){if(l>h){if(!r)r={x:(a-m)/d,y:a};else if(r.y>=o)return;e={x:(o-m)/d,y:o}}else{if(!r)r={x:(o-m)/d,y:o};else if(r.y<a)return;e={x:(a-m)/d,y:a}}}else{if(c<g){if(!r)r={x:i,y:d*i+m};else if(r.x>=u)return;e={x:u,y:d*u+m}}else{if(!r)r={x:u,y:d*u+m};else if(r.x<i)return;e={x:i,y:d*i+m}}}}t.a=r;t.b=e;return true}function ta(t,n){this.l=t;this.r=n;this.a=this.b=null}function na(t,n,e,r){var i=new ta(t,n);Lu.push(i);if(e)ra(i,t,n,e);if(r)ra(i,n,t,r);Tu[t.i].edges.push(new ia(i,t,n));Tu[n.i].edges.push(new ia(i,n,t));return i}function ea(t,n,e){var r=new ta(t,null);r.a=n;r.b=e;Lu.push(r);return r}function ra(t,n,e,r){if(!t.a&&!t.b){t.a=r;t.l=n;t.r=e}else if(t.l===e){t.b=r}else{t.a=r}}function ia(t,n,e){var r=t.a,i=t.b;this.edge=t;this.site=n;this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}ia.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ua(){this._=null}function aa(t){t.U=t.C=t.L=t.R=t.P=t.N=null}ua.prototype={insert:function(t,n){var e,r,i;if(t){n.P=t;n.N=t.N;if(t.N)t.N.P=n;t.N=n;if(t.R){t=t.R;while(t.L)t=t.L;t.L=n}else{t.R=n}e=t}else if(this._){t=fa(this._);n.P=null;n.N=t;t.P=t.L=n;e=t}else{n.P=n.N=null;this._=n;e=null}n.L=n.R=null;n.U=e;n.C=true;t=n;while(e&&e.C){r=e.U;if(e===r.L){i=r.R;if(i&&i.C){e.C=i.C=false;r.C=true;t=r}else{if(t===e.R){oa(this,e);t=e;e=t.U}e.C=false;r.C=true;sa(this,r)}}else{i=r.L;if(i&&i.C){e.C=i.C=false;r.C=true;t=r}else{if(t===e.L){sa(this,e);t=e;e=t.U}e.C=false;r.C=true;oa(this,r)}}e=t.U}this._.C=false},remove:function(t){if(t.N)t.N.P=t.P;if(t.P)t.P.N=t.N;t.N=t.P=null;var n=t.U,e,r=t.L,i=t.R,u,a;if(!r)u=i;else if(!i)u=r;else u=fa(i);if(n){if(n.L===t)n.L=u;else n.R=u}else{this._=u}if(r&&i){a=u.C;u.C=t.C;u.L=r;r.U=u;if(u!==i){n=u.U;u.U=t.U;t=u.R;n.L=t;u.R=i;i.U=u}else{u.U=n;n=u;t=u.R}}else{a=t.C;t=u}if(t)t.U=n;if(a)return;if(t&&t.C){t.C=false;return}do{if(t===this._)break;if(t===n.L){e=n.R;if(e.C){e.C=false;n.C=true;oa(this,n);e=n.R}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.R||!e.R.C){e.L.C=false;e.C=true;sa(this,e);e=n.R}e.C=n.C;n.C=e.R.C=false;oa(this,n);t=this._;break}}else{e=n.L;if(e.C){e.C=false;n.C=true;sa(this,n);e=n.L}if(e.L&&e.L.C||e.R&&e.R.C){if(!e.L||!e.L.C){e.R.C=false;e.C=true;oa(this,e);e=n.L}e.C=n.C;n.C=e.L.C=false;sa(this,n);t=this._;break}}e.C=true;t=n;n=n.U}while(!t.C);if(t)t.C=false}};function oa(t,n){var e=n,r=n.R,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}else{t._=r}r.U=i;e.U=r;e.R=r.L;if(e.R)e.R.U=e;r.L=e}function sa(t,n){var e=n,r=n.L,i=e.U;if(i){if(i.L===e)i.L=r;else i.R=r}else{t._=r}r.U=i;e.U=r;e.L=r.R;if(e.L)e.L.U=e;r.R=e}function fa(t){while(t.L)t=t.L;return t}function la(t,n){var e=t.sort(ca).pop(),r,i,u;Lu=[];Tu=new Array(t.length);Ru=new ua;Iu=new ua;while(true){u=ju;if(e&&(!u||e.y<u.y||e.y===u.y&&e.x<u.x)){if(e.x!==r||e.y!==i){Tu[e.i]=new Bu(e);Yu(e);r=e.x,i=e.y}e=t.pop()}else if(u){Hu(u.arc)}else{break}}if(n)Qu(n),Xu(n);var a={cells:Tu,edges:Lu};Ru=Iu=Lu=Tu=null;return a}function ca(t,n){return n.y-t.y||n.x-t.x}t.geom.voronoi=function(t){var n=ku,e=Su,r=n,i=e,u=ha;if(t)return a(t);function a(t){var n=new Array(t.length),e=u[0][0],r=u[0][1],i=u[1][0],a=u[1][1];la(o(t),u).cells.forEach(function(u,o){var s=u.edges,f=u.site,l=n[o]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):f.x>=e&&f.x<=i&&f.y>=r&&f.y<=a?[[e,a],[i,a],[i,r],[e,r]]:[];l.point=t[o]});return n}function o(t){return t.map(function(t,n){return{x:Math.round(r(t,n)/An)*An,y:Math.round(i(t,n)/An)*An,i:n}})}a.links=function(t){return la(o(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})};a.triangles=function(t){var n=[];la(o(t)).cells.forEach(function(e,r){var i=e.site,u=e.edges.sort($u),a=-1,o=u.length,s,f,l=u[o-1].edge,c=l.l===i?l.r:l.l;while(++a<o){s=l;f=c;l=u[a].edge;c=l.l===i?l.r:l.l;if(r<f.i&&r<c.i&&ga(i,f,c)<0){n.push([t[r],t[f.i],t[c.i]])}}});return n};a.x=function(t){return arguments.length?(r=Se(n=t),a):n};a.y=function(t){return arguments.length?(i=Se(e=t),a):e};a.clipExtent=function(t){if(!arguments.length)return u===ha?null:u;u=t==null?ha:t;return a};a.size=function(t){if(!arguments.length)return u===ha?null:u&&u[1];return a.clipExtent(t&&[[0,0],t])};return a};var ha=[[-1e6,-1e6],[1e6,1e6]];function ga(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}t.geom.delaunay=function(n){return t.geom.voronoi().triangles(n)};t.geom.quadtree=function(t,n,e,r,i){var u=ku,a=Su,o;if(o=arguments.length){u=pa;a=va;if(o===3){i=e;r=n;e=n=0}return s(t)}function s(t){var s,f=Se(u),l=Se(a),c,h,g,p,v,d,m,y;if(n!=null){v=n,d=e,m=r,y=i}else{m=y=-(v=d=Infinity);c=[],h=[];p=t.length;if(o)for(g=0;g<p;++g){s=t[g];if(s.x<v)v=s.x;if(s.y<d)d=s.y;if(s.x>m)m=s.x;if(s.y>y)y=s.y;c.push(s.x);h.push(s.y)}else for(g=0;g<p;++g){var x=+f(s=t[g],g),w=+l(s,g);if(x<v)v=x;if(w<d)d=w;if(x>m)m=x;if(w>y)y=w;c.push(x);h.push(w)}}var _=m-v,b=y-d;if(_>b)y=d+_;else m=v+b;function k(t,n,e,r,i,u,a,o){if(isNaN(e)||isNaN(r))return;if(t.leaf){var s=t.x,f=t.y;if(s!=null){if(M(s-e)+M(f-r)<.01){S(t,n,e,r,i,u,a,o)}else{var l=t.point;t.x=t.y=t.point=null;S(t,l,s,f,i,u,a,o);S(t,n,e,r,i,u,a,o)}}else{t.x=e,t.y=r,t.point=n}}else{S(t,n,e,r,i,u,a,o)}}function S(t,n,e,r,i,u,a,o){var s=(i+a)*.5,f=(u+o)*.5,l=e>=s,c=r>=f,h=c<<1|l;t.leaf=false;t=t.nodes[h]||(t.nodes[h]=da());if(l)i=s;else a=s;if(c)u=f;else o=f;k(t,n,e,r,i,u,a,o)}var N=da();N.add=function(t){k(N,t,+f(t,++g),+l(t,g),v,d,m,y)};N.visit=function(t){ma(t,N,v,d,m,y)};N.find=function(t){return ya(N,t[0],t[1],v,d,m,y)};g=-1;if(n==null){while(++g<p){k(N,t[g],c[g],h[g],v,d,m,y)}--g}else t.forEach(N.add);c=h=t=s=null;return N}s.x=function(t){return arguments.length?(u=t,s):u};s.y=function(t){return arguments.length?(a=t,s):a};s.extent=function(t){if(!arguments.length)return n==null?null:[[n,e],[r,i]];if(t==null)n=e=r=i=null;else n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1];return s};s.size=function(t){if(!arguments.length)return n==null?null:[r-n,i-e];if(t==null)n=e=r=i=null;else n=e=0,r=+t[0],i=+t[1];return s};return s};function pa(t){return t.x}function va(t){return t.y}function da(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function ma(t,n,e,r,i,u){if(!t(n,e,r,i,u)){var a=(e+i)*.5,o=(r+u)*.5,s=n.nodes;if(s[0])ma(t,s[0],e,r,a,o);if(s[1])ma(t,s[1],a,r,i,o);if(s[2])ma(t,s[2],e,o,a,u);if(s[3])ma(t,s[3],a,o,i,u)}}function ya(t,n,e,r,i,u,a){var o=Infinity,s;(function f(t,l,c,h,g){if(l>u||c>a||h<r||g<i)return;if(p=t.point){var p,v=n-t.x,d=e-t.y,m=v*v+d*d;if(m<o){var y=Math.sqrt(o=m);r=n-y,i=e-y;u=n+y,a=e+y;s=p}}var x=t.nodes,M=(l+h)*.5,w=(c+g)*.5,_=n>=M,b=e>=w;for(var k=b<<1|_,S=k+4;k<S;++k){if(t=x[k&3])switch(k&3){case 0:f(t,l,c,M,w);break;case 1:f(t,M,c,h,w);break;case 2:f(t,l,w,M,g);break;case 3:f(t,M,w,h,g);break}}})(t,r,i,u,a);return s}t.interpolateRgb=xa;function xa(n,e){n=t.rgb(n);e=t.rgb(e);var r=n.r,i=n.g,u=n.b,a=e.r-r,o=e.g-i,s=e.b-u;return function(t){return"#"+ye(Math.round(r+a*t))+ye(Math.round(i+o*t))+ye(Math.round(u+s*t))}}t.interpolateObject=Ma;function Ma(t,n){var e={},r={},i;for(i in t){if(i in n){e[i]=Sa(t[i],n[i])}else{r[i]=t[i]}}for(i in n){if(!(i in t)){r[i]=n[i]}}return function(t){for(i in e)r[i]=e[i](t);return r}}t.interpolateNumber=wa;function wa(t,n){t=+t,n=+n;return function(e){return t*(1-e)+n*e}}t.interpolateString=_a;function _a(t,n){var e=ba.lastIndex=ka.lastIndex=0,r,i,u,a=-1,o=[],s=[];t=t+"",n=n+"";while((r=ba.exec(t))&&(i=ka.exec(n))){if((u=i.index)>e){u=n.slice(e,u);if(o[a])o[a]+=u;else o[++a]=u}if((r=r[0])===(i=i[0])){if(o[a])o[a]+=i;else o[++a]=i}else{o[++a]=null;s.push({i:a,x:wa(r,i)})}e=ka.lastIndex}if(e<n.length){u=n.slice(e);if(o[a])o[a]+=u;else o[++a]=u}return o.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var e=0,r;e<n;++e)o[(r=s[e]).i]=r.x(t);return o.join("")})}var ba=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ka=new RegExp(ba.source,"g");t.interpolate=Sa;function Sa(n,e){var r=t.interpolators.length,i;while(--r>=0&&!(i=t.interpolators[r](n,e)));return i}t.interpolators=[function(t,n){var e=typeof n;return(e==="string"?ke.has(n)||/^(#|rgb\(|hsl\()/.test(n)?xa:_a:n instanceof Wn?xa:Array.isArray(n)?Na:e==="object"&&isNaN(n)?Ma:wa)(t,n)}];t.interpolateArray=Na;function Na(t,n){var e=[],r=[],i=t.length,u=n.length,a=Math.min(t.length,n.length),o;for(o=0;o<a;++o)e.push(Sa(t[o],n[o]));for(;o<i;++o)r[o]=t[o];for(;o<u;++o)r[o]=n[o];return function(t){for(o=0;o<a;++o)r[o]=e[o](t);return r}}var Ea=function(){return R};var Aa=t.map({linear:Ea,poly:ja,quad:function(){return Ta},cubic:function(){return Ra},sin:function(){return Ia},exp:function(){return Oa},circle:function(){return Pa},elastic:Fa,back:Ua,bounce:function(){return Ha}});var qa=t.map({"in":R,out:za,"in-out":La,"out-in":function(t){return La(za(t))}});t.ease=function(t){var n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,i=n>=0?t.slice(n+1):"in";r=Aa.get(r)||Ea;i=qa.get(i)||R;return Ca(i(r.apply(null,e.call(arguments,1))))};function Ca(t){return function(n){return n<=0?0:n>=1?1:t(n)}}function za(t){return function(n){return 1-t(1-n)}}function La(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function Ta(t){return t*t}function Ra(t){return t*t*t}function Da(t){if(t<=0)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(t<.5?e:3*(t-n)+e-.75)}function ja(t){return function(n){return Math.pow(n,t)}}function Ia(t){return 1-Math.cos(t*Tn)}function Oa(t){return Math.pow(2,10*(t-1))}function Pa(t){return 1-Math.sqrt(1-t*t)}function Fa(t,n){var e;if(arguments.length<2)n=.45;if(arguments.length)e=n/zn*Math.asin(1/t);else t=1,e=n/4;return function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*zn/n)}}function Ua(t){if(!t)t=1.70158;return function(n){return n*n*((t+1)*n-t)}}function Ha(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}t.interpolateHcl=Ya;function Ya(n,e){n=t.hcl(n);e=t.hcl(e);var r=n.h,i=n.c,u=n.l,a=e.h-r,o=e.c-i,s=e.l-u;if(isNaN(o))o=0,i=isNaN(i)?e.c:i;if(isNaN(a))a=0,r=isNaN(r)?e.h:r;else if(a>180)a-=360;else if(a<-180)a+=360;return function(t){return ee(r+a*t,i+o*t,u+s*t)+""}}t.interpolateHsl=Va;function Va(n,e){n=t.hsl(n);e=t.hsl(e);var r=n.h,i=n.s,u=n.l,a=e.h-r,o=e.s-i,s=e.l-u;if(isNaN(o))o=0,i=isNaN(i)?e.s:i;if(isNaN(a))a=0,r=isNaN(r)?e.h:r;else if(a>180)a-=360;else if(a<-180)a+=360;return function(t){return Kn(r+a*t,i+o*t,u+s*t)+""}}t.interpolateLab=Za;function Za(n,e){n=t.lab(n);e=t.lab(e);var r=n.l,i=n.a,u=n.b,a=e.l-r,o=e.a-i,s=e.b-u;return function(t){return fe(r+a*t,i+o*t,u+s*t)+""}}t.interpolateRound=Ba;function Ba(t,n){n-=t;return function(e){return Math.round(t+n*e)}}t.transform=function(n){var e=i.createElementNS(t.ns.prefix.svg,"g");return(t.transform=function(t){if(t!=null){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Xa(n?n.matrix:Ga)})(n)};function Xa(t){var n=[t.a,t.b],e=[t.c,t.d],r=Ja(n),i=$a(n,e),u=Ja(Wa(e,n,-i))||0;if(n[0]*e[1]<e[0]*n[1]){n[0]*=-1;n[1]*=-1;r*=-1;i*=-1}this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*Dn;this.translate=[t.e,t.f];this.scale=[r,u];this.skew=u?Math.atan2(i,u)*Dn:0}Xa.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function $a(t,n){return t[0]*n[0]+t[1]*n[1]}function Ja(t){var n=Math.sqrt($a(t,t));if(n){t[0]/=n;t[1]/=n}return n}function Wa(t,n,e){t[0]+=e*n[0];t[1]+=e*n[1];return t}var Ga={a:1,b:0,c:0,d:1,e:0,f:0};t.interpolateTransform=Qa;function Qa(n,e){var r=[],i=[],u,a=t.transform(n),o=t.transform(e),s=a.translate,f=o.translate,l=a.rotate,c=o.rotate,h=a.skew,g=o.skew,p=a.scale,v=o.scale;if(s[0]!=f[0]||s[1]!=f[1]){r.push("translate(",null,",",null,")");i.push({i:1,x:wa(s[0],f[0])},{i:3,x:wa(s[1],f[1])})}else if(f[0]||f[1]){r.push("translate("+f+")")}else{r.push("")}if(l!=c){if(l-c>180)c+=360;else if(c-l>180)l+=360;i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:wa(l,c)})}else if(c){r.push(r.pop()+"rotate("+c+")")}if(h!=g){i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:wa(h,g)})}else if(g){r.push(r.pop()+"skewX("+g+")")}if(p[0]!=v[0]||p[1]!=v[1]){u=r.push(r.pop()+"scale(",null,",",null,")");i.push({i:u-4,x:wa(p[0],v[0])},{i:u-2,x:wa(p[1],v[1])})}else if(v[0]!=1||v[1]!=1){r.push(r.pop()+"scale("+v+")")}u=i.length;return function(t){var n=-1,e;while(++n<u)r[(e=i[n]).i]=e.x(t);return r.join("")}}function Ka(t,n){n=(n-=t=+t)||1/n;return function(e){return(e-t)/n}}function to(t,n){n=(n-=t=+t)||1/n;return function(e){return Math.max(0,Math.min(1,(e-t)/n))}}t.layout={};t.layout.bundle=function(){return function(t){var n=[],e=-1,r=t.length;while(++e<r)n.push(no(t[e]));return n}};function no(t){var n=t.source,e=t.target,r=ro(n,e),i=[n];while(n!==r){n=n.parent;i.push(n)}var u=i.length;while(e!==r){i.splice(u,0,e);e=e.parent}return i}function eo(t){var n=[],e=t.parent;while(e!=null){n.push(t);t=e;e=e.parent}n.push(t);return n}function ro(t,n){if(t===n)return t;var e=eo(t),r=eo(n),i=e.pop(),u=r.pop(),a=null;while(i===u){a=i;i=e.pop();u=r.pop()}return a}t.layout.chord=function(){var n={},e,r,i,u,a=0,o,s,f;function l(){var n={},l=[],h=t.range(u),g=[],p,v,d,m,y;e=[];r=[];p=0,m=-1;while(++m<u){v=0,y=-1;while(++y<u){v+=i[m][y]}l.push(v);g.push(t.range(u));p+=v}if(o){h.sort(function(t,n){return o(l[t],l[n])})}if(s){g.forEach(function(t,n){t.sort(function(t,e){return s(i[n][t],i[n][e])})})}p=(zn-a*u)/p;v=0,m=-1;while(++m<u){d=v,y=-1;while(++y<u){var x=h[m],M=g[x][y],w=i[x][M],_=v,b=v+=w*p;n[x+"-"+M]={index:x,subindex:M,startAngle:_,endAngle:b,value:w}}r[x]={index:x,startAngle:d,endAngle:v,value:(v-d)/p};v+=a}m=-1;while(++m<u){y=m-1;while(++y<u){var k=n[m+"-"+y],S=n[y+"-"+m];if(k.value||S.value){e.push(k.value<S.value?{source:S,target:k}:{source:k,target:S})}}}if(f)c()}function c(){e.sort(function(t,n){return f((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}n.matrix=function(t){if(!arguments.length)return i;u=(i=t)&&i.length;e=r=null;return n};n.padding=function(t){if(!arguments.length)return a;a=t;e=r=null;return n};n.sortGroups=function(t){if(!arguments.length)return o;o=t;e=r=null;return n};n.sortSubgroups=function(t){if(!arguments.length)return s;s=t;e=null;return n};n.sortChords=function(t){if(!arguments.length)return f;f=t;if(e)c();return n};n.chords=function(){if(!e)l();return e};n.groups=function(){if(!r)l();return r};return n};t.layout.force=function(){var n={},e=t.dispatch("start","tick","end"),r=[1,1],i,u,a=.9,o=fo,s=lo,f=-30,l=co,c=.1,h=.64,g=[],p=[],v,d,m;function y(t){return function(n,e,r,i){if(n.point!==t){var u=n.cx-t.x,a=n.cy-t.y,o=i-e,s=u*u+a*a;if(o*o/h<s){if(s<l){var f=n.charge/s;t.px-=u*f;t.py-=a*f}return true}if(n.point&&s&&s<l){var f=n.pointCharge/s;t.px-=u*f;t.py-=a*f}}return!n.charge}}n.tick=function(){if((u*=.99)<.005){e.end({type:"end",alpha:u=0});return true}var n=g.length,i=p.length,o,s,l,h,x,M,w,_,b;for(s=0;s<i;++s){l=p[s];h=l.source;x=l.target;_=x.x-h.x;b=x.y-h.y;if(M=_*_+b*b){M=u*d[s]*((M=Math.sqrt(M))-v[s])/M;_*=M;b*=M;x.x-=_*(w=h.weight/(x.weight+h.weight));x.y-=b*w;h.x+=_*(w=1-w);h.y+=b*w}}if(w=u*c){_=r[0]/2;b=r[1]/2;s=-1;if(w)while(++s<n){l=g[s];l.x+=(_-l.x)*w;l.y+=(b-l.y)*w}}if(f){so(o=t.geom.quadtree(g),u,m);s=-1;while(++s<n){if(!(l=g[s]).fixed){o.visit(y(l))}}}s=-1;while(++s<n){l=g[s];if(l.fixed){l.x=l.px;l.y=l.py}else{l.x-=(l.px-(l.px=l.x))*a;l.y-=(l.py-(l.py=l.y))*a}}e.tick({type:"tick",alpha:u})};n.nodes=function(t){if(!arguments.length)return g;g=t;return n};n.links=function(t){if(!arguments.length)return p;p=t;return n};n.size=function(t){if(!arguments.length)return r;r=t;return n};n.linkDistance=function(t){if(!arguments.length)return o;o=typeof t==="function"?t:+t;return n};n.distance=n.linkDistance;n.linkStrength=function(t){if(!arguments.length)return s;s=typeof t==="function"?t:+t;return n};n.friction=function(t){if(!arguments.length)return a;a=+t;return n};n.charge=function(t){if(!arguments.length)return f;f=typeof t==="function"?t:+t;return n};n.chargeDistance=function(t){if(!arguments.length)return Math.sqrt(l);l=t*t;return n};n.gravity=function(t){if(!arguments.length)return c;c=+t;return n};n.theta=function(t){if(!arguments.length)return Math.sqrt(h);h=t*t;return n};n.alpha=function(r){if(!arguments.length)return u;r=+r;if(u){if(r>0)u=r;else u=0}else if(r>0){e.start({type:"start",alpha:u=r});t.timer(n.tick)}return n};n.start=function(){var t,e=g.length,i=p.length,u=r[0],a=r[1],l,c;for(t=0;t<e;++t){(c=g[t]).index=t;c.weight=0}for(t=0;t<i;++t){c=p[t];if(typeof c.source=="number")c.source=g[c.source];if(typeof c.target=="number")c.target=g[c.target];++c.source.weight;++c.target.weight}for(t=0;t<e;++t){c=g[t];if(isNaN(c.x))c.x=h("x",u);if(isNaN(c.y))c.y=h("y",a);if(isNaN(c.px))c.px=c.x;if(isNaN(c.py))c.py=c.y}v=[];if(typeof o==="function")for(t=0;t<i;++t)v[t]=+o.call(this,p[t],t);else for(t=0;t<i;++t)v[t]=o;d=[];if(typeof s==="function")for(t=0;t<i;++t)d[t]=+s.call(this,p[t],t);else for(t=0;t<i;++t)d[t]=s;m=[];if(typeof f==="function")for(t=0;t<e;++t)m[t]=+f.call(this,g[t],t);else for(t=0;t<e;++t)m[t]=f;function h(n,r){if(!l){l=new Array(e);for(o=0;o<e;++o){l[o]=[]}for(o=0;o<i;++o){var u=p[o];l[u.source.index].push(u.target);l[u.target.index].push(u.source)}}var a=l[t],o=-1,s=a.length,f;while(++o<s)if(!isNaN(f=a[o][n]))return f;return Math.random()*r}return n.resume()};n.resume=function(){return n.alpha(.1)};n.stop=function(){return n.alpha(0)};n.drag=function(){if(!i)i=t.behavior.drag().origin(R).on("dragstart.force",io).on("drag.force",x).on("dragend.force",uo);if(!arguments.length)return i;this.on("mouseover.force",ao).on("mouseout.force",oo).call(i)};function x(e){e.px=t.event.x,e.py=t.event.y;n.resume()}return t.rebind(n,e,"on")};function io(t){t.fixed|=2}function uo(t){t.fixed&=~6}function ao(t){t.fixed|=4;t.px=t.x,t.py=t.y}function oo(t){t.fixed&=~4}function so(t,n,e){var r=0,i=0;t.charge=0;if(!t.leaf){var u=t.nodes,a=u.length,o=-1,s;while(++o<a){s=u[o];if(s==null)continue;so(s,n,e);t.charge+=s.charge;r+=s.charge*s.cx;i+=s.charge*s.cy}}if(t.point){if(!t.leaf){t.point.x+=Math.random()-.5;t.point.y+=Math.random()-.5}var f=n*e[t.point.index];t.charge+=t.pointCharge=f;r+=f*t.point.x;i+=f*t.point.y}t.cx=r/t.charge;t.cy=i/t.charge}var fo=20,lo=1,co=Infinity;t.layout.hierarchy=function(){var t=yo,n=vo,e=mo;function r(i){var u=[i],a=[],o;i.depth=0;while((o=u.pop())!=null){a.push(o);if((f=n.call(r,o,o.depth))&&(s=f.length)){var s,f,l;while(--s>=0){u.push(l=f[s]);l.parent=o;l.depth=o.depth+1}if(e)o.value=0;o.children=f}else{if(e)o.value=+e.call(r,o,o.depth)||0;delete o.children}}po(i,function(n){var r,i;if(t&&(r=n.children))r.sort(t);if(e&&(i=n.parent))i.value+=n.value});return a}r.sort=function(n){if(!arguments.length)return t;t=n;return r};r.children=function(t){if(!arguments.length)return n;n=t;return r};r.value=function(t){if(!arguments.length)return e;e=t;return r};r.revalue=function(t){if(e){go(t,function(t){if(t.children)t.value=0});po(t,function(t){var n;if(!t.children)t.value=+e.call(r,t,t.depth)||0;if(n=t.parent)n.value+=t.value})}return t};return r};function ho(n,e){t.rebind(n,e,"sort","children","value");n.nodes=n;n.links=xo;return n}function go(t,n){var e=[t];while((t=e.pop())!=null){n(t);if((i=t.children)&&(r=i.length)){var r,i;while(--r>=0)e.push(i[r])}}}function po(t,n){var e=[t],r=[];while((t=e.pop())!=null){r.push(t);if((a=t.children)&&(u=a.length)){var i=-1,u,a;while(++i<u)e.push(a[i])}}while((t=r.pop())!=null){n(t)}}function vo(t){return t.children}function mo(t){return t.value}function yo(t,n){return n.value-t.value}function xo(n){return t.merge(n.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}t.layout.partition=function(){var n=t.layout.hierarchy(),e=[1,1];function r(t,n,e,i){var u=t.children;t.x=n;t.y=t.depth*i;t.dx=e;t.dy=i;if(u&&(o=u.length)){var a=-1,o,s,f;e=t.value?e/t.value:0;while(++a<o){r(s=u[a],n,f=s.value*e,i);n+=f}}}function i(t){var n=t.children,e=0;if(n&&(u=n.length)){var r=-1,u;while(++r<u)e=Math.max(e,i(n[r]))}return 1+e}function u(t,u){var a=n.call(this,t,u);r(a[0],0,e[0],e[1]/i(a[0]));return a}u.size=function(t){if(!arguments.length)return e;e=t;return u};return ho(u,n)};t.layout.pie=function(){var n=Number,e=Mo,r=0,i=zn,u=0;function a(o){var s=o.length,f=o.map(function(t,e){return+n.call(a,t,e)}),l=+(typeof r==="function"?r.apply(this,arguments):r),c=(typeof i==="function"?i.apply(this,arguments):i)-l,h=Math.min(Math.abs(c)/s,+(typeof u==="function"?u.apply(this,arguments):u)),g=h*(c<0?-1:1),p=(c-s*g)/t.sum(f),v=t.range(s),d=[],m;if(e!=null)v.sort(e===Mo?function(t,n){return f[n]-f[t]}:function(t,n){return e(o[t],o[n])});v.forEach(function(t){d[t]={data:o[t],value:m=f[t],startAngle:l,endAngle:l+=m*p+g,padAngle:h}});return d}a.value=function(t){if(!arguments.length)return n;n=t;return a};a.sort=function(t){if(!arguments.length)return e;e=t;return a};a.startAngle=function(t){if(!arguments.length)return r;r=t;return a};a.endAngle=function(t){if(!arguments.length)return i;i=t;return a};a.padAngle=function(t){if(!arguments.length)return u;u=t;return a};return a};var Mo={};t.layout.stack=function(){var n=R,e=No,r=Eo,i=bo,u=wo,a=_o;function o(s,f){if(!(v=s.length))return s;var l=s.map(function(t,e){return n.call(o,t,e)});var c=l.map(function(t){return t.map(function(t,n){return[u.call(o,t,n),a.call(o,t,n)]})});var h=e.call(o,c,f);l=t.permute(l,h);c=t.permute(c,h);var g=r.call(o,c,f);var p=l[0].length,v,d,m,y;for(m=0;m<p;++m){i.call(o,l[0][m],y=g[m],c[0][m][1]);for(d=1;d<v;++d){i.call(o,l[d][m],y+=c[d-1][m][1],c[d][m][1])}}return s}o.values=function(t){if(!arguments.length)return n;n=t;return o};o.order=function(t){if(!arguments.length)return e;e=typeof t==="function"?t:ko.get(t)||No;return o};o.offset=function(t){if(!arguments.length)return r;r=typeof t==="function"?t:So.get(t)||Eo;return o};o.x=function(t){if(!arguments.length)return u;u=t;return o};o.y=function(t){if(!arguments.length)return a;a=t;return o};o.out=function(t){if(!arguments.length)return i;i=t;return o};return o};function wo(t){return t.x}function _o(t){return t.y}function bo(t,n,e){t.y0=n;t.y=e}var ko=t.map({"inside-out":function(n){var e=n.length,r,i,u=n.map(Ao),a=n.map(qo),o=t.range(e).sort(function(t,n){return u[t]-u[n]}),s=0,f=0,l=[],c=[];for(r=0;r<e;++r){i=o[r];if(s<f){s+=a[i];l.push(i)}else{f+=a[i];c.push(i)}}return c.reverse().concat(l)},reverse:function(n){return t.range(n.length).reverse()},"default":No});var So=t.map({silhouette:function(t){var n=t.length,e=t[0].length,r=[],i=0,u,a,o,s=[];for(a=0;a<e;++a){for(u=0,o=0;u<n;u++)o+=t[u][a][1];if(o>i)i=o;r.push(o)}for(a=0;a<e;++a){s[a]=(i-r[a])/2}return s},wiggle:function(t){var n=t.length,e=t[0],r=e.length,i,u,a,o,s,f,l,c,h,g=[];g[0]=c=h=0;for(u=1;u<r;++u){for(i=0,o=0;i<n;++i)o+=t[i][u][1];for(i=0,s=0,l=e[u][0]-e[u-1][0];i<n;++i){for(a=0,f=(t[i][u][1]-t[i][u-1][1])/(2*l);a<i;++a){f+=(t[a][u][1]-t[a][u-1][1])/l}s+=f*t[i][u][1]}g[u]=c-=o?s/o*l:0;if(c<h)h=c}for(u=0;u<r;++u)g[u]-=h;return g},expand:function(t){var n=t.length,e=t[0].length,r=1/n,i,u,a,o=[];for(u=0;u<e;++u){for(i=0,a=0;i<n;i++)a+=t[i][u][1];if(a)for(i=0;i<n;i++)t[i][u][1]/=a;else for(i=0;i<n;i++)t[i][u][1]=r}for(u=0;u<e;++u)o[u]=0;return o},zero:Eo});function No(n){return t.range(n.length)}function Eo(t){var n=-1,e=t[0].length,r=[];while(++n<e)r[n]=0;return r}function Ao(t){var n=1,e=0,r=t[0][1],i,u=t.length;for(;n<u;++n){if((i=t[n][1])>r){e=n;r=i}}return e}function qo(t){return t.reduce(Co,0)}function Co(t,n){return t+n[1]}t.layout.histogram=function(){var n=true,e=Number,r=To,i=zo;function u(u,a){var o=[],s=u.map(e,this),f=r.call(this,s,a),l=i.call(this,f,s,a),c,a=-1,h=s.length,g=l.length-1,p=n?1:1/h,v;while(++a<g){c=o[a]=[];c.dx=l[a+1]-(c.x=l[a]);c.y=0}if(g>0){a=-1;while(++a<h){v=s[a];if(v>=f[0]&&v<=f[1]){c=o[t.bisect(l,v,1,g)-1];c.y+=p;c.push(u[a])}}}return o}u.value=function(t){if(!arguments.length)return e;e=t;return u};u.range=function(t){if(!arguments.length)return r;r=Se(t);return u};u.bins=function(t){if(!arguments.length)return i;i=typeof t==="number"?function(n){return Lo(n,t)}:Se(t);return u};u.frequency=function(t){if(!arguments.length)return n;n=!!t;return u};return u};function zo(t,n){return Lo(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function Lo(t,n){var e=-1,r=+t[0],i=(t[1]-r)/n,u=[];while(++e<=n)u[e]=i*e+r;return u}function To(n){return[t.min(n),t.max(n)]}t.layout.pack=function(){var n=t.layout.hierarchy().sort(Ro),e=0,r=[1,1],i;function u(t,u){var a=n.call(this,t,u),o=a[0],s=r[0],f=r[1],l=i==null?Math.sqrt:typeof i==="function"?i:function(){return i};o.x=o.y=0;po(o,function(t){t.r=+l(t.value)});po(o,Oo);if(e){var c=e*(i?1:Math.max(2*o.r/s,2*o.r/f))/2;po(o,function(t){t.r+=c});po(o,Oo);po(o,function(t){t.r-=c})}Uo(o,s/2,f/2,i?1:1/Math.max(2*o.r/s,2*o.r/f));return a}u.size=function(t){if(!arguments.length)return r;r=t;return u};u.radius=function(t){if(!arguments.length)return i;i=t==null||typeof t==="function"?t:+t;return u};u.padding=function(t){if(!arguments.length)return e;e=+t;return u};return ho(u,n)};function Ro(t,n){return t.value-n.value}function Do(t,n){var e=t._pack_next;t._pack_next=n;n._pack_prev=t;n._pack_next=e;e._pack_prev=n}function jo(t,n){t._pack_next=n;n._pack_prev=t}function Io(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.999*i*i>e*e+r*r}function Oo(t){if(!(n=t.children)||!(h=n.length))return;var n,e=Infinity,r=-Infinity,i=Infinity,u=-Infinity,a,o,s,f,l,c,h;function g(t){e=Math.min(t.x-t.r,e);r=Math.max(t.x+t.r,r);i=Math.min(t.y-t.r,i);u=Math.max(t.y+t.r,u)}n.forEach(Po);a=n[0];a.x=-a.r;a.y=0;g(a);if(h>1){o=n[1];o.x=o.r;o.y=0;g(o);if(h>2){s=n[2];Ho(a,o,s);g(s);Do(a,s);a._pack_prev=s;Do(s,o);o=a._pack_next;for(f=3;f<h;f++){Ho(a,o,s=n[f]);var p=0,v=1,d=1;for(l=o._pack_next;l!==o;l=l._pack_next,v++){if(Io(l,s)){p=1;break}}if(p==1){for(c=a._pack_prev;c!==l._pack_prev;c=c._pack_prev,d++){if(Io(c,s)){break}}}if(p){if(v<d||v==d&&o.r<a.r)jo(a,o=l);else jo(a=c,o);f--}else{Do(a,s);o=s;g(s)}}}}var m=(e+r)/2,y=(i+u)/2,x=0;for(f=0;f<h;f++){s=n[f];s.x-=m;s.y-=y;x=Math.max(x,s.r+Math.sqrt(s.x*s.x+s.y*s.y))}t.r=x;n.forEach(Fo)}function Po(t){t._pack_next=t._pack_prev=t}function Fo(t){delete t._pack_next;delete t._pack_prev}function Uo(t,n,e,r){var i=t.children;t.x=n+=r*t.x;t.y=e+=r*t.y;t.r*=r;if(i){var u=-1,a=i.length;while(++u<a)Uo(i[u],n,e,r)}}function Ho(t,n,e){var r=t.r+e.r,i=n.x-t.x,u=n.y-t.y;if(r&&(i||u)){var a=n.r+e.r,o=i*i+u*u;a*=a;r*=r;var s=.5+(r-a)/(2*o),f=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=t.x+s*i+f*u;e.y=t.y+s*u-f*i}else{e.x=t.x+r;e.y=t.y}}t.layout.tree=function(){var n=t.layout.hierarchy().sort(null).value(null),e=Yo,r=[1,1],i=null;function u(t,u){var f=n.call(this,t,u),c=f[0],h=a(c);po(h,o),h.parent.m=-h.z;go(h,s);if(i)go(c,l);else{var g=c,p=c,v=c;go(c,function(t){if(t.x<g.x)g=t;if(t.x>p.x)p=t;if(t.depth>v.depth)v=t});var d=e(g,p)/2-g.x,m=r[0]/(p.x+e(p,g)/2+d),y=r[1]/(v.depth||1);go(c,function(t){t.x=(t.x+d)*m;t.y=t.depth*y})}return f}function a(t){var n={A:null,children:[t]},e=[n],r;while((r=e.pop())!=null){for(var i=r.children,u,a=0,o=i.length;a<o;++a){e.push((i[a]=u={_:i[a],parent:r,children:(u=i[a].children)&&u.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=u)}}return n.children[0]}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){Xo(t);var u=(n[0].z+n[n.length-1].z)/2;if(i){t.z=i.z+e(t._,i._);t.m=t.z-u}else{t.z=u}}else if(i){t.z=i.z+e(t._,i._)}t.parent.A=f(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m;t.m+=t.parent.m}function f(t,n,r){if(n){var i=t,u=t,a=n,o=i.parent.children[0],s=i.m,f=u.m,l=a.m,c=o.m,h;while(a=Zo(a),i=Vo(i),a&&i){o=Vo(o);u=Zo(u);u.a=t;h=a.z+l-i.z-s+e(a._,i._);if(h>0){Bo($o(a,t,r),t,h);s+=h;f+=h}l+=a.m;s+=i.m;c+=o.m;f+=u.m}if(a&&!Zo(u)){u.t=a;u.m+=l-f}if(i&&!Vo(o)){o.t=i;o.m+=s-c;r=t}}return r}function l(t){t.x*=r[0];t.y=t.depth*r[1]}u.separation=function(t){if(!arguments.length)return e;e=t;return u};u.size=function(t){if(!arguments.length)return i?null:r;i=(r=t)==null?l:null;return u};u.nodeSize=function(t){if(!arguments.length)return i?r:null;i=(r=t)==null?null:l;return u};return ho(u,n)};function Yo(t,n){return t.parent==n.parent?1:2}function Vo(t){var n=t.children;return n.length?n[0]:t.t}function Zo(t){var n=t.children,e;return(e=n.length)?n[e-1]:t.t}function Bo(t,n,e){var r=e/(n.i-t.i);n.c-=r;n.s+=e;t.c+=r;n.z+=e;n.m+=e}function Xo(t){var n=0,e=0,r=t.children,i=r.length,u;while(--i>=0){u=r[i];u.z+=n;u.m+=n;n+=u.s+(e+=u.c)}}function $o(t,n,e){return t.a.parent===n.parent?t.a:e}t.layout.cluster=function(){var n=t.layout.hierarchy().sort(null).value(null),e=Yo,r=[1,1],i=false;function u(t,u){var a=n.call(this,t,u),o=a[0],s,f=0;po(o,function(t){var n=t.children;if(n&&n.length){t.x=Wo(n);t.y=Jo(n)}else{t.x=s?f+=e(t,s):0;t.y=0;s=t}});var l=Go(o),c=Qo(o),h=l.x-e(l,c)/2,g=c.x+e(c,l)/2;po(o,i?function(t){t.x=(t.x-o.x)*r[0];t.y=(o.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(g-h)*r[0];t.y=(1-(o.y?t.y/o.y:1))*r[1]});return a}u.separation=function(t){if(!arguments.length)return e;e=t;return u};u.size=function(t){if(!arguments.length)return i?null:r;i=(r=t)==null;return u};u.nodeSize=function(t){if(!arguments.length)return i?r:null;i=(r=t)!=null;return u};return ho(u,n)};function Jo(n){return 1+t.max(n,function(t){return t.y})}function Wo(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Go(t){var n=t.children;return n&&n.length?Go(n[0]):t}function Qo(t){var n=t.children,e;return n&&(e=n.length)?Qo(n[e-1]):t}t.layout.treemap=function(){var n=t.layout.hierarchy(),e=Math.round,r=[1,1],i=null,u=Ko,a=false,o,s="squarify",f=.5*(1+Math.sqrt(5));function l(t,n){var e=-1,r=t.length,i,u;while(++e<r){u=(i=t[e]).value*(n<0?0:n);i.area=isNaN(u)||u<=0?0:u}}function c(t){var n=t.children;if(n&&n.length){var e=u(t),r=[],i=n.slice(),a,o=Infinity,f,h=s==="slice"?e.dx:s==="dice"?e.dy:s==="slice-dice"?t.depth&1?e.dy:e.dx:Math.min(e.dx,e.dy),v;l(i,e.dx*e.dy/t.value);r.area=0;while((v=i.length)>0){r.push(a=i[v-1]);r.area+=a.area;if(s!=="squarify"||(f=g(r,h))<=o){i.pop();
o=f}else{r.area-=r.pop().area;p(r,h,e,false);h=Math.min(e.dx,e.dy);r.length=r.area=0;o=Infinity}}if(r.length){p(r,h,e,true);r.length=r.area=0}n.forEach(c)}}function h(t){var n=t.children;if(n&&n.length){var e=u(t),r=n.slice(),i,a=[];l(r,e.dx*e.dy/t.value);a.area=0;while(i=r.pop()){a.push(i);a.area+=i.area;if(i.z!=null){p(a,i.z?e.dx:e.dy,e,!r.length);a.length=a.area=0}}n.forEach(h)}}function g(t,n){var e=t.area,r,i=0,u=Infinity,a=-1,o=t.length;while(++a<o){if(!(r=t[a].area))continue;if(r<u)u=r;if(r>i)i=r}e*=e;n*=n;return e?Math.max(n*i*f/e,e/(n*u*f)):Infinity}function p(t,n,r,i){var u=-1,a=t.length,o=r.x,s=r.y,f=n?e(t.area/n):0,l;if(n==r.dx){if(i||f>r.dy)f=r.dy;while(++u<a){l=t[u];l.x=o;l.y=s;l.dy=f;o+=l.dx=Math.min(r.x+r.dx-o,f?e(l.area/f):0)}l.z=true;l.dx+=r.x+r.dx-o;r.y+=f;r.dy-=f}else{if(i||f>r.dx)f=r.dx;while(++u<a){l=t[u];l.x=o;l.y=s;l.dx=f;s+=l.dy=Math.min(r.y+r.dy-s,f?e(l.area/f):0)}l.z=false;l.dy+=r.y+r.dy-s;r.x+=f;r.dx-=f}}function v(t){var e=o||n(t),i=e[0];i.x=0;i.y=0;i.dx=r[0];i.dy=r[1];if(o)n.revalue(i);l([i],i.dx*i.dy/i.value);(o?h:c)(i);if(a)o=e;return e}v.size=function(t){if(!arguments.length)return r;r=t;return v};v.padding=function(t){if(!arguments.length)return i;function n(n){var e=t.call(v,n,n.depth);return e==null?Ko(n):ts(n,typeof e==="number"?[e,e,e,e]:e)}function e(n){return ts(n,t)}var r;u=(i=t)==null?Ko:(r=typeof t)==="function"?n:r==="number"?(t=[t,t,t,t],e):e;return v};v.round=function(t){if(!arguments.length)return e!=Number;e=t?Math.round:Number;return v};v.sticky=function(t){if(!arguments.length)return a;a=t;o=null;return v};v.ratio=function(t){if(!arguments.length)return f;f=t;return v};v.mode=function(t){if(!arguments.length)return s;s=t+"";return v};return ho(v,n)};function Ko(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function ts(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],u=t.dy-n[0]-n[2];if(i<0){e+=i/2;i=0}if(u<0){r+=u/2;u=0}return{x:e,y:r,dx:i,dy:u}}t.random={normal:function(t,n){var e=arguments.length;if(e<2)n=1;if(e<1)t=0;return function(){var e,r,i;do{e=Math.random()*2-1;r=Math.random()*2-1;i=e*e+r*r}while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var n=t.random.normal.apply(t,arguments);return function(){return Math.exp(n())}},bates:function(n){var e=t.random.irwinHall(n);return function(){return e()/n}},irwinHall:function(t){return function(){for(var n=0,e=0;e<t;e++)n+=Math.random();return n}}};t.scale={};function ns(t){var n=t[0],e=t[t.length-1];return n<e?[n,e]:[e,n]}function es(t){return t.rangeExtent?t.rangeExtent():ns(t.range())}function rs(t,n,e,r){var i=e(t[0],t[1]),u=r(n[0],n[1]);return function(t){return u(i(t))}}function is(t,n){var e=0,r=t.length-1,i=t[e],u=t[r],a;if(u<i){a=e,e=r,r=a;a=i,i=u,u=a}t[e]=n.floor(i);t[r]=n.ceil(u);return t}function us(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:as}var as={floor:R,ceil:R};function os(n,e,r,i){var u=[],a=[],o=0,s=Math.min(n.length,e.length)-1;if(n[s]<n[0]){n=n.slice().reverse();e=e.slice().reverse()}while(++o<=s){u.push(r(n[o-1],n[o]));a.push(i(e[o-1],e[o]))}return function(e){var r=t.bisect(n,e,1,s)-1;return a[r](u[r](e))}}t.scale.linear=function(){return ss([0,1],[0,1],Sa,false)};function ss(t,n,e,r){var i,u;function a(){var a=Math.min(t.length,n.length)>2?os:rs,s=r?to:Ka;i=a(t,n,s,e);u=a(n,t,s,Sa);return o}function o(t){return i(t)}o.invert=function(t){return u(t)};o.domain=function(n){if(!arguments.length)return t;t=n.map(Number);return a()};o.range=function(t){if(!arguments.length)return n;n=t;return a()};o.rangeRound=function(t){return o.range(t).interpolate(Ba)};o.clamp=function(t){if(!arguments.length)return r;r=t;return a()};o.interpolate=function(t){if(!arguments.length)return e;e=t;return a()};o.ticks=function(n){return hs(t,n)};o.tickFormat=function(n,e){return gs(t,n,e)};o.nice=function(n){ls(t,n);return a()};o.copy=function(){return ss(t,n,e,r)};return a()}function fs(n,e){return t.rebind(n,e,"range","rangeRound","interpolate","clamp")}function ls(t,n){return is(t,us(cs(t,n)[2]))}function cs(t,n){if(n==null)n=10;var e=ns(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),u=n/r*i;if(u<=.15)i*=10;else if(u<=.35)i*=5;else if(u<=.75)i*=2;e[0]=Math.ceil(e[0]/i)*i;e[1]=Math.floor(e[1]/i)*i+i*.5;e[2]=i;return e}function hs(n,e){return t.range.apply(t,cs(n,e))}function gs(n,e,r){var i=cs(n,e);if(r){var u=Ye.exec(r);u.shift();if(u[8]==="s"){var a=t.formatPrefix(Math.max(M(i[0]),M(i[1])));if(!u[7])u[7]="."+vs(a.scale(i[2]));u[8]="f";r=t.format(u.join(""));return function(t){return r(a.scale(t))+a.symbol}}if(!u[7])u[7]="."+ds(u[8],i);r=u.join("")}else{r=",."+vs(i[2])+"f"}return t.format(r)}var ps={s:1,g:1,p:1,r:1,e:1};function vs(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ds(t,n){var e=vs(n[2]);return t in ps?Math.abs(e-vs(Math.max(M(n[0]),M(n[1]))))+ +(t!=="e"):e-(t==="%")*2}t.scale.log=function(){return ms(t.scale.linear().domain([0,1]),10,true,[1,10])};function ms(n,e,r,i){function u(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return r?Math.pow(e,t):-Math.pow(e,-t)}function o(t){return n(u(t))}o.invert=function(t){return a(n.invert(t))};o.domain=function(t){if(!arguments.length)return i;r=t[0]>=0;n.domain((i=t.map(Number)).map(u));return o};o.base=function(t){if(!arguments.length)return e;e=+t;n.domain(i.map(u));return o};o.nice=function(){var t=is(i.map(u),r?Math:xs);n.domain(t);i=t.map(a);return o};o.ticks=function(){var t=ns(i),n=[],o=t[0],s=t[1],f=Math.floor(u(o)),l=Math.ceil(u(s)),c=e%1?2:e;if(isFinite(l-f)){if(r){for(;f<l;f++)for(var h=1;h<c;h++)n.push(a(f)*h);n.push(a(f))}else{n.push(a(f));for(;f++<l;)for(var h=c-1;h>0;h--)n.push(a(f)*h)}for(f=0;n[f]<o;f++){}for(l=n.length;n[l-1]>s;l--){}n=n.slice(f,l)}return n};o.tickFormat=function(n,e){if(!arguments.length)return ys;if(arguments.length<2)e=ys;else if(typeof e!=="function")e=t.format(e);var i=Math.max(.1,n/o.ticks().length),s=r?(f=1e-12,Math.ceil):(f=-1e-12,Math.floor),f;return function(t){return t/a(s(u(t)+f))<=i?e(t):""}};o.copy=function(){return ms(n.copy(),e,r,i)};return fs(o,n)}var ys=t.format(".0e"),xs={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};t.scale.pow=function(){return Ms(t.scale.linear(),1,[0,1])};function Ms(t,n,e){var r=ws(n),i=ws(1/n);function u(n){return t(r(n))}u.invert=function(n){return i(t.invert(n))};u.domain=function(n){if(!arguments.length)return e;t.domain((e=n.map(Number)).map(r));return u};u.ticks=function(t){return hs(e,t)};u.tickFormat=function(t,n){return gs(e,t,n)};u.nice=function(t){return u.domain(ls(e,t))};u.exponent=function(a){if(!arguments.length)return n;r=ws(n=a);i=ws(1/n);t.domain(e.map(r));return u};u.copy=function(){return Ms(t.copy(),n,e)};return fs(u,t)}function ws(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}t.scale.sqrt=function(){return t.scale.pow().exponent(.5)};t.scale.ordinal=function(){return _s([],{t:"range",a:[[]]})};function _s(n,e){var r,i,u;function a(t){return i[((r.get(t)||(e.t==="range"?r.set(t,n.push(t)):NaN))-1)%i.length]}function o(e,r){return t.range(n.length).map(function(t){return e+r*t})}a.domain=function(t){if(!arguments.length)return n;n=[];r=new b;var i=-1,u=t.length,o;while(++i<u)if(!r.has(o=t[i]))r.set(o,n.push(o));return a[e.t].apply(a,e.a)};a.range=function(t){if(!arguments.length)return i;i=t;u=0;e={t:"range",a:arguments};return a};a.rangePoints=function(t,r){if(arguments.length<2)r=0;var s=t[0],f=t[1],l=n.length<2?(s=(s+f)/2,0):(f-s)/(n.length-1+r);i=o(s+l*r/2,l);u=0;e={t:"rangePoints",a:arguments};return a};a.rangeRoundPoints=function(t,r){if(arguments.length<2)r=0;var s=t[0],f=t[1],l=n.length<2?(s=f=Math.round((s+f)/2),0):(f-s)/(n.length-1+r)|0;i=o(s+Math.round(l*r/2+(f-s-(n.length-1+r)*l)/2),l);u=0;e={t:"rangeRoundPoints",a:arguments};return a};a.rangeBands=function(t,r,s){if(arguments.length<2)r=0;if(arguments.length<3)s=r;var f=t[1]<t[0],l=t[f-0],c=t[1-f],h=(c-l)/(n.length-r+2*s);i=o(l+h*s,h);if(f)i.reverse();u=h*(1-r);e={t:"rangeBands",a:arguments};return a};a.rangeRoundBands=function(t,r,s){if(arguments.length<2)r=0;if(arguments.length<3)s=r;var f=t[1]<t[0],l=t[f-0],c=t[1-f],h=Math.floor((c-l)/(n.length-r+2*s));i=o(l+Math.round((c-l-(n.length-r)*h)/2),h);if(f)i.reverse();u=Math.round(h*(1-r));e={t:"rangeRoundBands",a:arguments};return a};a.rangeBand=function(){return u};a.rangeExtent=function(){return ns(e.a[0])};a.copy=function(){return _s(n,e)};return a.domain(n)}t.scale.category10=function(){return t.scale.ordinal().range(bs)};t.scale.category20=function(){return t.scale.ordinal().range(ks)};t.scale.category20b=function(){return t.scale.ordinal().range(Ss)};t.scale.category20c=function(){return t.scale.ordinal().range(Ns)};var bs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(de);var ks=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(de);var Ss=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(de);var Ns=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(de);t.scale.quantile=function(){return Es([],[])};function Es(n,e){var r;function i(){var i=0,a=e.length;r=[];while(++i<a)r[i-1]=t.quantile(n,i/a);return u}function u(n){if(!isNaN(n=+n))return e[t.bisect(r,n)]}u.domain=function(t){if(!arguments.length)return n;n=t.map(v).filter(d).sort(p);return i()};u.range=function(t){if(!arguments.length)return e;e=t;return i()};u.quantiles=function(){return r};u.invertExtent=function(t){t=e.indexOf(t);return t<0?[NaN,NaN]:[t>0?r[t-1]:n[0],t<r.length?r[t]:n[n.length-1]]};u.copy=function(){return Es(n,e)};return i()}t.scale.quantize=function(){return As(0,1,[0,1])};function As(t,n,e){var r,i;function u(n){return e[Math.max(0,Math.min(i,Math.floor(r*(n-t))))]}function a(){r=e.length/(n-t);i=e.length-1;return u}u.domain=function(e){if(!arguments.length)return[t,n];t=+e[0];n=+e[e.length-1];return a()};u.range=function(t){if(!arguments.length)return e;e=t;return a()};u.invertExtent=function(n){n=e.indexOf(n);n=n<0?NaN:n/r+t;return[n,n+1/r]};u.copy=function(){return As(t,n,e)};return a()}t.scale.threshold=function(){return qs([.5],[0,1])};function qs(n,e){function r(r){if(r<=r)return e[t.bisect(n,r)]}r.domain=function(t){if(!arguments.length)return n;n=t;return r};r.range=function(t){if(!arguments.length)return e;e=t;return r};r.invertExtent=function(t){t=e.indexOf(t);return[n[t-1],n[t]]};r.copy=function(){return qs(n,e)};return r}t.scale.identity=function(){return Cs([0,1])};function Cs(t){function n(t){return+t}n.invert=n;n.domain=n.range=function(e){if(!arguments.length)return t;t=e.map(n);return n};n.ticks=function(n){return hs(t,n)};n.tickFormat=function(n,e){return gs(t,n,e)};n.copy=function(){return Cs(t)};return n}t.svg={};function zs(){return 0}t.svg.arc=function(){var t=Ts,n=Rs,e=zs,r=Ls,i=Ds,u=js,a=Is;function o(){var o=Math.max(0,+t.apply(this,arguments)),f=Math.max(0,+n.apply(this,arguments)),l=i.apply(this,arguments)-Tn,c=u.apply(this,arguments)-Tn,h=Math.abs(c-l),g=l>c?0:1;if(f<o)p=f,f=o,o=p;if(h>=Ln)return s(f,g)+(o?s(o,1-g):"")+"Z";var p,v,d,m,y=0,x=0,M,w,_,b,k,S,N,E,A=[];if(m=(+a.apply(this,arguments)||0)/2){d=r===Ls?Math.sqrt(o*o+f*f):+r.apply(this,arguments);if(!g)x*=-1;if(f)x=Pn(d/f*Math.sin(m));if(o)y=Pn(d/o*Math.sin(m))}if(f){M=f*Math.cos(l+x);w=f*Math.sin(l+x);_=f*Math.cos(c-x);b=f*Math.sin(c-x);var q=Math.abs(c-l-2*x)<=Cn?0:1;if(x&&Os(M,w,_,b)===g^q){var C=(l+c)/2;M=f*Math.cos(C);w=f*Math.sin(C);_=b=null}}else{M=w=0}if(o){k=o*Math.cos(c-y);S=o*Math.sin(c-y);N=o*Math.cos(l+y);E=o*Math.sin(l+y);var z=Math.abs(l-c+2*y)<=Cn?0:1;if(y&&Os(k,S,N,E)===1-g^z){var L=(l+c)/2;k=o*Math.cos(L);S=o*Math.sin(L);N=E=null}}else{k=S=0}if((p=Math.min(Math.abs(f-o)/2,+e.apply(this,arguments)))>.001){v=o<f^g?0:1;var T=N==null?[k,S]:_==null?[M,w]:Cu([M,w],[N,E],[_,b],[k,S]),R=M-T[0],D=w-T[1],j=_-T[0],I=b-T[1],O=1/Math.sin(Math.acos((R*j+D*I)/(Math.sqrt(R*R+D*D)*Math.sqrt(j*j+I*I)))/2),P=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(_!=null){var F=Math.min(p,(f-P)/(O+1)),U=Ps(N==null?[k,S]:[N,E],[M,w],f,F,g),H=Ps([_,b],[k,S],f,F,g);if(p===F){A.push("M",U[0],"A",F,",",F," 0 0,",v," ",U[1],"A",f,",",f," 0 ",1-g^Os(U[1][0],U[1][1],H[1][0],H[1][1]),",",g," ",H[1],"A",F,",",F," 0 0,",v," ",H[0])}else{A.push("M",U[0],"A",F,",",F," 0 1,",v," ",H[0])}}else{A.push("M",M,",",w)}if(N!=null){var Y=Math.min(p,(o-P)/(O-1)),V=Ps([M,w],[N,E],o,-Y,g),Z=Ps([k,S],_==null?[M,w]:[_,b],o,-Y,g);if(p===Y){A.push("L",Z[0],"A",Y,",",Y," 0 0,",v," ",Z[1],"A",o,",",o," 0 ",g^Os(Z[1][0],Z[1][1],V[1][0],V[1][1]),",",1-g," ",V[1],"A",Y,",",Y," 0 0,",v," ",V[0])}else{A.push("L",Z[0],"A",Y,",",Y," 0 0,",v," ",V[0])}}else{A.push("L",k,",",S)}}else{A.push("M",M,",",w);if(_!=null)A.push("A",f,",",f," 0 ",q,",",g," ",_,",",b);A.push("L",k,",",S);if(N!=null)A.push("A",o,",",o," 0 ",z,",",1-g," ",N,",",E)}A.push("Z");return A.join("")}function s(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}o.innerRadius=function(n){if(!arguments.length)return t;t=Se(n);return o};o.outerRadius=function(t){if(!arguments.length)return n;n=Se(t);return o};o.cornerRadius=function(t){if(!arguments.length)return e;e=Se(t);return o};o.padRadius=function(t){if(!arguments.length)return r;r=t==Ls?Ls:Se(t);return o};o.startAngle=function(t){if(!arguments.length)return i;i=Se(t);return o};o.endAngle=function(t){if(!arguments.length)return u;u=Se(t);return o};o.padAngle=function(t){if(!arguments.length)return a;a=Se(t);return o};o.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-Tn;return[Math.cos(r)*e,Math.sin(r)*e]};return o};var Ls="auto";function Ts(t){return t.innerRadius}function Rs(t){return t.outerRadius}function Ds(t){return t.startAngle}function js(t){return t.endAngle}function Is(t){return t&&t.padAngle}function Os(t,n,e,r){return(t-e)*n-(n-r)*t>0?0:1}function Ps(t,n,e,r,i){var u=t[0]-n[0],a=t[1]-n[1],o=(i?r:-r)/Math.sqrt(u*u+a*a),s=o*a,f=-o*u,l=t[0]+s,c=t[1]+f,h=n[0]+s,g=n[1]+f,p=(l+h)/2,v=(c+g)/2,d=h-l,m=g-c,y=d*d+m*m,x=e-r,M=l*g-h*c,w=(m<0?-1:1)*Math.sqrt(x*x*y-M*M),_=(M*m-d*w)/y,b=(-M*d-m*w)/y,k=(M*m+d*w)/y,S=(-M*d+m*w)/y,N=_-p,E=b-v,A=k-p,q=S-v;if(N*N+E*E>A*A+q*q)_=k,b=S;return[[_-s,b-f],[_*e/x,b*e/x]]}function Fs(t){var n=ku,e=Su,r=oi,i=Hs,u=i.key,a=.7;function o(u){var o=[],s=[],f=-1,l=u.length,c,h=Se(n),g=Se(e);function p(){o.push("M",i(t(s),a))}while(++f<l){if(r.call(this,c=u[f],f)){s.push([+h.call(this,c,f),+g.call(this,c,f)])}else if(s.length){p();s=[]}}if(s.length)p();return o.length?o.join(""):null}o.x=function(t){if(!arguments.length)return n;n=t;return o};o.y=function(t){if(!arguments.length)return e;e=t;return o};o.defined=function(t){if(!arguments.length)return r;r=t;return o};o.interpolate=function(t){if(!arguments.length)return u;if(typeof t==="function")u=i=t;else u=(i=Us.get(t)||Hs).key;return o};o.tension=function(t){if(!arguments.length)return a;a=t;return o};return o}t.svg.line=function(){return Fs(R)};var Us=t.map({linear:Hs,"linear-closed":Ys,step:Vs,"step-before":Zs,"step-after":Bs,basis:Qs,"basis-open":Ks,"basis-closed":tf,bundle:nf,cardinal:Js,"cardinal-open":Xs,"cardinal-closed":$s,monotone:cf});Us.forEach(function(t,n){n.key=t;n.closed=/-closed$/.test(t)});function Hs(t){return t.join("L")}function Ys(t){return Hs(t)+"Z"}function Vs(t){var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];while(++n<e)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);if(e>1)i.push("H",r[0]);return i.join("")}function Zs(t){var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];while(++n<e)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function Bs(t){var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];while(++n<e)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function Xs(t,n){return t.length<4?Hs(t):t[1]+Ws(t.slice(1,-1),Gs(t,n))}function $s(t,n){return t.length<3?Hs(t):t[0]+Ws((t.push(t[0]),t),Gs([t[t.length-2]].concat(t,[t[1]]),n))}function Js(t,n){return t.length<3?Hs(t):t[0]+Ws(t,Gs(t,n))}function Ws(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2){return Hs(t)}var e=t.length!=n.length,r="",i=t[0],u=t[1],a=n[0],o=a,s=1;if(e){r+="Q"+(u[0]-a[0]*2/3)+","+(u[1]-a[1]*2/3)+","+u[0]+","+u[1];i=t[1];s=2}if(n.length>1){o=n[1];u=t[s];s++;r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1];for(var f=2;f<n.length;f++,s++){u=t[s];o=n[f];r+="S"+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1]}}if(e){var l=t[s];r+="Q"+(u[0]+o[0]*2/3)+","+(u[1]+o[1]*2/3)+","+l[0]+","+l[1]}return r}function Gs(t,n){var e=[],r=(1-n)/2,i,u=t[0],a=t[1],o=1,s=t.length;while(++o<s){i=u;u=a;a=t[o];e.push([r*(a[0]-i[0]),r*(a[1]-i[1])])}return e}function Qs(t){if(t.length<3)return Hs(t);var n=1,e=t.length,r=t[0],i=r[0],u=r[1],a=[i,i,i,(r=t[1])[0]],o=[u,u,u,r[1]],s=[i,",",u,"L",ef(af,a),",",ef(af,o)];t.push(t[e-1]);while(++n<=e){r=t[n];a.shift();a.push(r[0]);o.shift();o.push(r[1]);of(s,a,o)}t.pop();s.push("L",r);return s.join("")}function Ks(t){if(t.length<4)return Hs(t);var n=[],e=-1,r=t.length,i,u=[0],a=[0];while(++e<3){i=t[e];u.push(i[0]);a.push(i[1])}n.push(ef(af,u)+","+ef(af,a));--e;while(++e<r){i=t[e];u.shift();u.push(i[0]);a.shift();a.push(i[1]);of(n,u,a)}return n.join("")}function tf(t){var n,e=-1,r=t.length,i=r+4,u,a=[],o=[];while(++e<4){u=t[e%r];a.push(u[0]);o.push(u[1])}n=[ef(af,a),",",ef(af,o)];--e;while(++e<i){u=t[e%r];a.shift();a.push(u[0]);o.shift();o.push(u[1]);of(n,a,o)}return n.join("")}function nf(t,n){var e=t.length-1;if(e){var r=t[0][0],i=t[0][1],u=t[e][0]-r,a=t[e][1]-i,o=-1,s,f;while(++o<=e){s=t[o];f=o/e;s[0]=n*s[0]+(1-n)*(r+f*u);s[1]=n*s[1]+(1-n)*(i+f*a)}}return Qs(t)}function ef(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}var rf=[0,2/3,1/3,0],uf=[0,1/3,2/3,0],af=[0,1/6,2/3,1/6];function of(t,n,e){t.push("C",ef(rf,n),",",ef(rf,e),",",ef(uf,n),",",ef(uf,e),",",ef(af,n),",",ef(af,e))}function sf(t,n){return(n[1]-t[1])/(n[0]-t[0])}function ff(t){var n=0,e=t.length-1,r=[],i=t[0],u=t[1],a=r[0]=sf(i,u);while(++n<e){r[n]=(a+(a=sf(i=u,u=t[n+1])))/2}r[n]=a;return r}function lf(t){var n=[],e,r,i,u,a=ff(t),o=-1,s=t.length-1;while(++o<s){e=sf(t[o],t[o+1]);if(M(e)<An){a[o]=a[o+1]=0}else{r=a[o]/e;i=a[o+1]/e;u=r*r+i*i;if(u>9){u=e*3/Math.sqrt(u);a[o]=u*r;a[o+1]=u*i}}}o=-1;while(++o<=s){u=(t[Math.min(s,o+1)][0]-t[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o]));n.push([u||0,a[o]*u||0])}return n}function cf(t){return t.length<3?Hs(t):t[0]+Ws(t,lf(t))}t.svg.line.radial=function(){var t=Fs(hf);t.radius=t.x,delete t.x;t.angle=t.y,delete t.y;return t};function hf(t){var n,e=-1,r=t.length,i,u;while(++e<r){n=t[e];i=n[0];u=n[1]-Tn;n[0]=i*Math.cos(u);n[1]=i*Math.sin(u)}return t}function gf(t){var n=ku,e=ku,r=0,i=Su,u=oi,a=Hs,o=a.key,s=a,f="L",l=.7;function c(o){var c=[],h=[],g=[],p=-1,v=o.length,d,m=Se(n),y=Se(r),x=n===e?function(){return w}:Se(e),M=r===i?function(){return _}:Se(i),w,_;function b(){c.push("M",a(t(g),l),f,s(t(h.reverse()),l),"Z")}while(++p<v){if(u.call(this,d=o[p],p)){h.push([w=+m.call(this,d,p),_=+y.call(this,d,p)]);g.push([+x.call(this,d,p),+M.call(this,d,p)])}else if(h.length){b();h=[];g=[]}}if(h.length)b();return c.length?c.join(""):null}c.x=function(t){if(!arguments.length)return e;n=e=t;return c};c.x0=function(t){if(!arguments.length)return n;n=t;return c};c.x1=function(t){if(!arguments.length)return e;e=t;return c};c.y=function(t){if(!arguments.length)return i;r=i=t;return c};c.y0=function(t){if(!arguments.length)return r;r=t;return c};c.y1=function(t){if(!arguments.length)return i;i=t;return c};c.defined=function(t){if(!arguments.length)return u;u=t;return c};c.interpolate=function(t){if(!arguments.length)return o;if(typeof t==="function")o=a=t;else o=(a=Us.get(t)||Hs).key;s=a.reverse||a;f=a.closed?"M":"L";return c};c.tension=function(t){if(!arguments.length)return l;l=t;return c};return c}Zs.reverse=Bs;Bs.reverse=Zs;t.svg.area=function(){return gf(R)};t.svg.area.radial=function(){var t=gf(hf);t.radius=t.x,delete t.x;t.innerRadius=t.x0,delete t.x0;t.outerRadius=t.x1,delete t.x1;t.angle=t.y,delete t.y;t.startAngle=t.y0,delete t.y0;t.endAngle=t.y1,delete t.y1;return t};t.svg.chord=function(){var t=ou,n=su,e=pf,r=Ds,i=js;function u(e,r){var i=a(this,t,e,r),u=a(this,n,e,r);return"M"+i.p0+s(i.r,i.p1,i.a1-i.a0)+(o(i,u)?f(i.r,i.p1,i.r,i.p0):f(i.r,i.p1,u.r,u.p0)+s(u.r,u.p1,u.a1-u.a0)+f(u.r,u.p1,i.r,i.p0))+"Z"}function a(t,n,u,a){var o=n.call(t,u,a),s=e.call(t,o,a),f=r.call(t,o,a)-Tn,l=i.call(t,o,a)-Tn;return{r:s,a0:f,a1:l,p0:[s*Math.cos(f),s*Math.sin(f)],p1:[s*Math.cos(l),s*Math.sin(l)]}}function o(t,n){return t.a0==n.a0&&t.a1==n.a1}function s(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Cn)+",1 "+n}function f(t,n,e,r){return"Q 0,0 "+r}u.radius=function(t){if(!arguments.length)return e;e=Se(t);return u};u.source=function(n){if(!arguments.length)return t;t=Se(n);return u};u.target=function(t){if(!arguments.length)return n;n=Se(t);return u};u.startAngle=function(t){if(!arguments.length)return r;r=Se(t);return u};u.endAngle=function(t){if(!arguments.length)return i;i=Se(t);return u};return u};function pf(t){return t.radius}t.svg.diagonal=function(){var t=ou,n=su,e=vf;function r(r,i){var u=t.call(this,r,i),a=n.call(this,r,i),o=(u.y+a.y)/2,s=[u,{x:u.x,y:o},{x:a.x,y:o},a];s=s.map(e);return"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}r.source=function(n){if(!arguments.length)return t;t=Se(n);return r};r.target=function(t){if(!arguments.length)return n;n=Se(t);return r};r.projection=function(t){if(!arguments.length)return e;e=t;return r};return r};function vf(t){return[t.x,t.y]}t.svg.diagonal.radial=function(){var n=t.svg.diagonal(),e=vf,r=n.projection;n.projection=function(t){return arguments.length?r(df(e=t)):e};return n};function df(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]-Tn;return[e*Math.cos(r),e*Math.sin(r)]}}t.svg.symbol=function(){var t=yf,n=mf;function e(e,r){return(Mf.get(t.call(this,e,r))||xf)(n.call(this,e,r))}e.type=function(n){if(!arguments.length)return t;t=Se(n);return e};e.size=function(t){if(!arguments.length)return n;n=Se(t);return e};return e};function mf(){return 64}function yf(){return"circle"}function xf(t){var n=Math.sqrt(t/Cn);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}var Mf=t.map({circle:xf,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*_f)),e=n*_f;return"M0,"+-n+"L"+e+",0"+" 0,"+n+" "+-e+",0"+"Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/wf),e=n*wf/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/wf),e=n*wf/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});t.svg.symbolTypes=Mf.keys();var wf=Math.sqrt(3),_f=Math.tan(30*Rn);W.transition=function(t){var n=Af||++Ef,e=Lf(t),r=[],i,u,a=qf||{time:Date.now(),ease:Da,delay:0,duration:250};for(var o=-1,s=this.length;++o<s;){r.push(i=[]);for(var f=this[o],l=-1,c=f.length;++l<c;){if(u=f[l])Tf(u,l,e,n,a);i.push(u)}}return Sf(r,e,n)};W.interrupt=function(t){return this.each(t==null?bf:kf(Lf(t)))};var bf=kf(Lf());function kf(t){return function(){var n,e;if((n=this[t])&&(e=n[n.active])){if(--n.count)delete n[n.active];else delete this[t];n.active+=.5;e.event&&e.event.interrupt.call(this,this.__data__,e.index)}}}function Sf(t,n,e){Z(t,Nf);t.namespace=n;t.id=e;return t}var Nf=[],Ef=0,Af,qf;Nf.call=W.call;Nf.empty=W.empty;Nf.node=W.node;Nf.size=W.size;t.transition=function(n,e){return n&&n.transition?Af?n.transition(e):n:t.selection().transition(n)};t.transition.prototype=Nf;Nf.select=function(t){var n=this.id,e=this.namespace,r=[],i,u,a;t=G(t);for(var o=-1,s=this.length;++o<s;){r.push(i=[]);for(var f=this[o],l=-1,c=f.length;++l<c;){if((a=f[l])&&(u=t.call(a,a.__data__,l,o))){if("__data__"in a)u.__data__=a.__data__;Tf(u,l,e,n,a[e][n]);i.push(u)}else{i.push(null)}}}return Sf(r,e,n)};Nf.selectAll=function(t){var n=this.id,e=this.namespace,r=[],i,u,a,o,s;t=Q(t);for(var f=-1,l=this.length;++f<l;){for(var c=this[f],h=-1,g=c.length;++h<g;){if(a=c[h]){s=a[e][n];u=t.call(a,a.__data__,h,f);r.push(i=[]);for(var p=-1,v=u.length;++p<v;){if(o=u[p])Tf(o,p,e,n,s);i.push(o)}}}}return Sf(r,e,n)};Nf.filter=function(t){var n=[],e,r,i;if(typeof t!=="function")t=hn(t);for(var u=0,a=this.length;u<a;u++){n.push(e=[]);for(var r=this[u],o=0,s=r.length;o<s;o++){if((i=r[o])&&t.call(i,i.__data__,o,u)){e.push(i)}}}return Sf(n,this.namespace,this.id)};Nf.tween=function(t,n){var e=this.id,r=this.namespace;if(arguments.length<2)return this.node()[r][e].tween.get(t);return pn(this,n==null?function(n){n[r][e].tween.remove(t)}:function(i){i[r][e].tween.set(t,n)})};function Cf(t,n,e,r){var i=t.id,u=t.namespace;return pn(t,typeof e==="function"?function(t,a,o){t[u][i].tween.set(n,r(e.call(t,t.__data__,a,o)))}:(e=r(e),function(t){t[u][i].tween.set(n,e)}))}Nf.attr=function(n,e){if(arguments.length<2){for(e in n)this.attr(e,n[e]);return this}var r=n=="transform"?Qa:Sa,i=t.ns.qualify(n);function u(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}function o(t){return t==null?u:(t+="",function(){var n=this.getAttribute(i),e;return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})}function s(t){return t==null?a:(t+="",function(){var n=this.getAttributeNS(i.space,i.local),e;return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}return Cf(this,"attr."+n,e,i.local?s:o)};Nf.attrTween=function(n,e){var r=t.ns.qualify(n);function i(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function u(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}return this.tween("attr."+n,r.local?u:i)};Nf.style=function(t,n,e){var r=arguments.length;if(r<3){if(typeof t!=="string"){if(r<2)n="";for(e in t)this.style(e,t[e],n);return this}e=""}function i(){this.style.removeProperty(t)}function u(n){return n==null?i:(n+="",function(){var r=a(this).getComputedStyle(this,null).getPropertyValue(t),i;return r!==n&&(i=Sa(r,n),function(n){this.style.setProperty(t,i(n),e)})})}return Cf(this,"style."+t,n,u)};Nf.styleTween=function(t,n,e){if(arguments.length<3)e="";function r(r,i){var u=n.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return u&&function(n){this.style.setProperty(t,u(n),e)}}return this.tween("style."+t,r)};Nf.text=function(t){return Cf(this,"text",t,zf)};function zf(t){if(t==null)t="";return function(){this.textContent=t}}Nf.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var n;if(this[t].count<2&&(n=this.parentNode))n.removeChild(this)})};Nf.ease=function(n){var e=this.id,r=this.namespace;if(arguments.length<1)return this.node()[r][e].ease;if(typeof n!=="function")n=t.ease.apply(t,arguments);return pn(this,function(t){t[r][e].ease=n})};Nf.delay=function(t){var n=this.id,e=this.namespace;if(arguments.length<1)return this.node()[e][n].delay;return pn(this,typeof t==="function"?function(r,i,u){r[e][n].delay=+t.call(r,r.__data__,i,u)}:(t=+t,function(r){r[e][n].delay=t}))};Nf.duration=function(t){var n=this.id,e=this.namespace;if(arguments.length<1)return this.node()[e][n].duration;return pn(this,typeof t==="function"?function(r,i,u){r[e][n].duration=Math.max(1,t.call(r,r.__data__,i,u))}:(t=Math.max(1,t),function(r){r[e][n].duration=t}))};Nf.each=function(n,e){var r=this.id,i=this.namespace;if(arguments.length<2){var u=qf,a=Af;try{Af=r;pn(this,function(t,e,u){qf=t[i][r];n.call(t,t.__data__,e,u)})}finally{qf=u;Af=a}}else{pn(this,function(u){var a=u[i][r];(a.event||(a.event=t.dispatch("start","end","interrupt"))).on(n,e)})}return this};Nf.transition=function(){var t=this.id,n=++Ef,e=this.namespace,r=[],i,u,a,o;for(var s=0,f=this.length;s<f;s++){r.push(i=[]);for(var u=this[s],l=0,c=u.length;l<c;l++){if(a=u[l]){o=a[e][t];Tf(a,l,e,n,{time:o.time,ease:o.ease,delay:o.delay+o.duration,duration:o.duration})}i.push(a)}}return Sf(r,e,n)};function Lf(t){return t==null?"__transition__":"__transition_"+t+"__"}function Tf(n,e,r,i,u){var a=n[r]||(n[r]={active:0,count:0}),o=a[i];if(!o){var s=u.time;o=a[i]={tween:new b,time:s,delay:u.delay,duration:u.duration,ease:u.ease,index:e};u=null;++a.count;t.timer(function(u){var f=o.delay,l,c,h=Re,g=[];h.t=f+s;if(f<=u)return p(u-f);h.c=p;function p(r){if(a.active>i)return d();var u=a[a.active];if(u){--a.count;delete a[a.active];u.event&&u.event.interrupt.call(n,n.__data__,u.index)}a.active=i;o.event&&o.event.start.call(n,n.__data__,e);o.tween.forEach(function(t,r){if(r=r.call(n,n.__data__,e)){g.push(r)}});c=o.ease;l=o.duration;t.timer(function(){h.c=v(r||1)?oi:v;return 1},0,s)}function v(t){if(a.active!==i)return 1;var r=t/l,u=c(r),s=g.length;while(s>0){g[--s].call(n,u)}if(r>=1){o.event&&o.event.end.call(n,n.__data__,e);return d()}}function d(){if(--a.count)delete a[i];else delete n[r];return 1}},0,s)}}t.svg.axis=function(){var n=t.scale.linear(),e=Rf,r=6,i=6,u=3,a=[10],o=null,s;function f(f){f.each(function(){var f=t.select(this);var l=this.__chart__||n,c=this.__chart__=n.copy();var h=o==null?c.ticks?c.ticks.apply(c,a):c.domain():o,g=s==null?c.tickFormat?c.tickFormat.apply(c,a):R:s,p=f.selectAll(".tick").data(h,c),v=p.enter().insert("g",".domain").attr("class","tick").style("opacity",An),d=t.transition(p.exit()).style("opacity",An).remove(),m=t.transition(p.order()).style("opacity",1),y=Math.max(r,0)+u,x;var M=es(c),w=f.selectAll(".domain").data([0]),_=(w.enter().append("path").attr("class","domain"),t.transition(w));v.append("line");v.append("text");var b=v.select("line"),k=m.select("line"),S=p.select("text").text(g),N=v.select("text"),E=m.select("text"),A=e==="top"||e==="left"?-1:1,q,C,z,L;if(e==="bottom"||e==="top"){x=jf,q="x",z="y",C="x2",L="y2";S.attr("dy",A<0?"0em":".71em").style("text-anchor","middle");_.attr("d","M"+M[0]+","+A*i+"V0H"+M[1]+"V"+A*i)}else{x=If,q="y",z="x",C="y2",L="x2";S.attr("dy",".32em").style("text-anchor",A<0?"end":"start");_.attr("d","M"+A*i+","+M[0]+"H0V"+M[1]+"H"+A*i)}b.attr(L,A*r);N.attr(z,A*y);k.attr(C,0).attr(L,A*r);E.attr(q,0).attr(z,A*y);if(c.rangeBand){var T=c,D=T.rangeBand()/2;l=c=function(t){return T(t)+D}}else if(l.rangeBand){l=c}else{d.call(x,c,l)}v.call(x,l,c);m.call(x,c,c)})}f.scale=function(t){if(!arguments.length)return n;n=t;return f};f.orient=function(t){if(!arguments.length)return e;e=t in Df?t+"":Rf;return f};f.ticks=function(){if(!arguments.length)return a;a=arguments;return f};f.tickValues=function(t){if(!arguments.length)return o;o=t;return f};f.tickFormat=function(t){if(!arguments.length)return s;s=t;return f};f.tickSize=function(t){var n=arguments.length;if(!n)return r;r=+t;i=+arguments[n-1];return f};f.innerTickSize=function(t){if(!arguments.length)return r;r=+t;return f};f.outerTickSize=function(t){if(!arguments.length)return i;i=+t;return f};f.tickPadding=function(t){if(!arguments.length)return u;u=+t;return f};f.tickSubdivide=function(){return arguments.length&&f};return f};var Rf="bottom",Df={top:1,right:1,bottom:1,left:1};function jf(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate("+(isFinite(r)?r:e(t))+",0)"})}function If(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate(0,"+(isFinite(r)?r:e(t))+")"})}t.svg.brush=function(){var n=Y(h,"brushstart","brush","brushend"),e=null,r=null,i=[0,0],u=[0,0],o,s,f=true,l=true,c=Pf[0];function h(n){n.each(function(){var n=t.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d);var i=n.selectAll(".background").data([0]);i.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");
n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=n.selectAll(".resize").data(c,R);u.exit().remove();u.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Of[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");u.style("display",h.empty()?"none":null);var a=t.transition(n),o=t.transition(i),s;if(e){s=es(e);o.attr("x",s[0]).attr("width",s[1]-s[0]);p(a)}if(r){s=es(r);o.attr("y",s[0]).attr("height",s[1]-s[0]);v(a)}g(a)})}h.event=function(e){e.each(function(){var e=n.of(this,arguments),r={x:i,y:u,i:o,j:s},a=this.__chart__||r;this.__chart__=r;if(Af){t.select(this).transition().each("start.brush",function(){o=a.i;s=a.j;i=a.x;u=a.y;e({type:"brushstart"})}).tween("brush:brush",function(){var t=Na(i,r.x),n=Na(u,r.y);o=s=null;return function(a){i=r.x=t(a);u=r.y=n(a);e({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=r.i;s=r.j;e({type:"brush",mode:"resize"});e({type:"brushend"})})}else{e({type:"brushstart"});e({type:"brush",mode:"resize"});e({type:"brushend"})}})};function g(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+i[+/e$/.test(t)]+","+u[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",i[0]);t.selectAll(".extent,.n>rect,.s>rect").attr("width",i[1]-i[0])}function v(t){t.select(".extent").attr("y",u[0]);t.selectAll(".extent,.e>rect,.w>rect").attr("height",u[1]-u[0])}function d(){var c=this,d=t.select(t.event.target),m=n.of(c,arguments),y=t.select(c),x=d.datum(),M=!/^(n|s)$/.test(x)&&e,w=!/^(e|w)$/.test(x)&&r,_=d.classed("extent"),b=kn(c),k,S=t.mouse(c),N;var E=t.select(a(c)).on("keydown.brush",C).on("keyup.brush",z);if(t.event.changedTouches){E.on("touchmove.brush",L).on("touchend.brush",R)}else{E.on("mousemove.brush",L).on("mouseup.brush",R)}y.interrupt().selectAll("*").interrupt();if(_){S[0]=i[0]-S[0];S[1]=u[0]-S[1]}else if(x){var A=+/w$/.test(x),q=+/^n/.test(x);N=[i[1-A]-S[0],u[1-q]-S[1]];S[0]=i[A];S[1]=u[q]}else if(t.event.altKey)k=S.slice();y.style("pointer-events","none").selectAll(".resize").style("display",null);t.select("body").style("cursor",d.style("cursor"));m({type:"brushstart"});L();function C(){if(t.event.keyCode==32){if(!_){k=null;S[0]-=i[1];S[1]-=u[1];_=2}U()}}function z(){if(t.event.keyCode==32&&_==2){S[0]+=i[1];S[1]+=u[1];_=0;U()}}function L(){var n=t.mouse(c),a=false;if(N){n[0]+=N[0];n[1]+=N[1]}if(!_){if(t.event.altKey){if(!k)k=[(i[0]+i[1])/2,(u[0]+u[1])/2];S[0]=i[+(n[0]<k[0])];S[1]=u[+(n[1]<k[1])]}else k=null}if(M&&T(n,e,0)){p(y);a=true}if(w&&T(n,r,1)){v(y);a=true}if(a){g(y);m({type:"brush",mode:_?"move":"resize"})}}function T(t,n,e){var r=es(n),a=r[0],c=r[1],h=S[e],g=e?u:i,p=g[1]-g[0],v,d;if(_){a-=h;c-=p+h}v=(e?l:f)?Math.max(a,Math.min(c,t[e])):t[e];if(_){d=(v+=h)+p}else{if(k)h=Math.max(a,Math.min(c,2*k[e]-v));if(h<v){d=v;v=h}else{d=h}}if(g[0]!=v||g[1]!=d){if(e)s=null;else o=null;g[0]=v;g[1]=d;return true}}function R(){L();y.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null);t.select("body").style("cursor",null);E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);b();m({type:"brushend"})}}h.x=function(t){if(!arguments.length)return e;e=t;c=Pf[!e<<1|!r];return h};h.y=function(t){if(!arguments.length)return r;r=t;c=Pf[!e<<1|!r];return h};h.clamp=function(t){if(!arguments.length)return e&&r?[f,l]:e?f:r?l:null;if(e&&r)f=!!t[0],l=!!t[1];else if(e)f=!!t;else if(r)l=!!t;return h};h.extent=function(t){var n,a,f,l,c;if(!arguments.length){if(e){if(o){n=o[0],a=o[1]}else{n=i[0],a=i[1];if(e.invert)n=e.invert(n),a=e.invert(a);if(a<n)c=n,n=a,a=c}}if(r){if(s){f=s[0],l=s[1]}else{f=u[0],l=u[1];if(r.invert)f=r.invert(f),l=r.invert(l);if(l<f)c=f,f=l,l=c}}return e&&r?[[n,f],[a,l]]:e?[n,a]:r&&[f,l]}if(e){n=t[0],a=t[1];if(r)n=n[0],a=a[0];o=[n,a];if(e.invert)n=e(n),a=e(a);if(a<n)c=n,n=a,a=c;if(n!=i[0]||a!=i[1])i=[n,a]}if(r){f=t[0],l=t[1];if(e)f=f[1],l=l[1];s=[f,l];if(r.invert)f=r(f),l=r(l);if(l<f)c=f,f=l,l=c;if(f!=u[0]||l!=u[1])u=[f,l]}return h};h.clear=function(){if(!h.empty()){i=[0,0],u=[0,0];o=s=null}return h};h.empty=function(){return!!e&&i[0]==i[1]||!!r&&u[0]==u[1]};return t.rebind(h,n,"on")};var Of={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var Pf=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var Ff=Be.format=_r.timeFormat;var Uf=Ff.utc;var Hf=Uf("%Y-%m-%dT%H:%M:%S.%LZ");Ff.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Yf:Hf;function Yf(t){return t.toISOString()}Yf.parse=function(t){var n=new Date(t);return isNaN(n)?null:n};Yf.toString=Hf.toString;Be.second=We(function(t){return new Xe(Math.floor(t/1e3)*1e3)},function(t,n){t.setTime(t.getTime()+Math.floor(n)*1e3)},function(t){return t.getSeconds()});Be.seconds=Be.second.range;Be.seconds.utc=Be.second.utc.range;Be.minute=We(function(t){return new Xe(Math.floor(t/6e4)*6e4)},function(t,n){t.setTime(t.getTime()+Math.floor(n)*6e4)},function(t){return t.getMinutes()});Be.minutes=Be.minute.range;Be.minutes.utc=Be.minute.utc.range;Be.hour=We(function(t){var n=t.getTimezoneOffset()/60;return new Xe((Math.floor(t/36e5-n)+n)*36e5)},function(t,n){t.setTime(t.getTime()+Math.floor(n)*36e5)},function(t){return t.getHours()});Be.hours=Be.hour.range;Be.hours.utc=Be.hour.utc.range;Be.month=We(function(t){t=Be.day(t);t.setDate(1);return t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()});Be.months=Be.month.range;Be.months.utc=Be.month.utc.range;function Vf(n,e,r){function i(t){return n(t)}i.invert=function(t){return Zf(n.invert(t))};i.domain=function(t){if(!arguments.length)return n.domain().map(Zf);n.domain(t);return i};function u(n,r){var i=n[1]-n[0],u=i/r,a=t.bisect(Bf,u);return a==Bf.length?[e.year,cs(n.map(function(t){return t/31536e6}),r)[2]]:!a?[Jf,cs(n,r)[2]]:e[u/Bf[a-1]<Bf[a]/u?a-1:a]}i.nice=function(t,n){var e=i.domain(),r=ns(e),a=t==null?u(r,10):typeof t==="number"&&u(r,t);if(a)t=a[0],n=a[1];function o(e){return!isNaN(e)&&!t.range(e,Zf(+e+1),n).length}return i.domain(is(e,n>1?{floor:function(n){while(o(n=t.floor(n)))n=Zf(n-1);return n},ceil:function(n){while(o(n=t.ceil(n)))n=Zf(+n+1);return n}}:t))};i.ticks=function(t,n){var e=ns(i.domain()),r=t==null?u(e,10):typeof t==="number"?u(e,t):!t.range&&[{range:t},n];if(r)t=r[0],n=r[1];return t.range(e[0],Zf(+e[1]+1),n<1?1:n)};i.tickFormat=function(){return r};i.copy=function(){return Vf(n.copy(),e,r)};return fs(i,n)}function Zf(t){return new Date(t)}var Bf=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6];var Xf=[[Be.second,1],[Be.second,5],[Be.second,15],[Be.second,30],[Be.minute,1],[Be.minute,5],[Be.minute,15],[Be.minute,30],[Be.hour,1],[Be.hour,3],[Be.hour,6],[Be.hour,12],[Be.day,1],[Be.day,2],[Be.week,1],[Be.month,1],[Be.month,3],[Be.year,1]];var $f=Ff.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&t.getDate()!=1}],["%b %d",function(t){return t.getDate()!=1}],["%B",function(t){return t.getMonth()}],["%Y",oi]]);var Jf={range:function(n,e,r){return t.range(Math.ceil(n/r)*r,+e,r).map(Zf)},floor:R,ceil:R};Xf.year=Be.year;Be.scale=function(){return Vf(t.scale.linear(),Xf,$f)};var Wf=Xf.map(function(t){return[t[0].utc,t[1]]});var Gf=Uf.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&t.getUTCDate()!=1}],["%b %d",function(t){return t.getUTCDate()!=1}],["%B",function(t){return t.getUTCMonth()}],["%Y",oi]]);Wf.year=Be.year.utc;Be.scale.utc=function(){return Vf(t.scale.linear(),Wf,Gf)};t.text=Ne(function(t){return t.responseText});t.json=function(t,n){return Ee(t,"application/json",Qf,n)};function Qf(t){return JSON.parse(t.responseText)}t.html=function(t,n){return Ee(t,"text/html",Kf,n)};function Kf(t){var n=i.createRange();n.selectNode(i.body);return n.createContextualFragment(t.responseText)}t.xml=Ne(function(t){return t.responseXML});if(typeof define==="function"&&define.amd)define(t);else if(typeof n==="object"&&n.exports)n.exports=t;this.d3=t}()},{}]},{},[5]);